!function(a){var e;a.su.Manager=(e=function(){if("object"==typeof this.constructor.instance)return this.constructor.instance;a.su.Observable.call(this),(this.constructor.instance=this)._map={},this._infoMap={},this.type=null},a.su.inherit(a.su.Observable,e),e.prototype.define=function(e,t,i){var r,n;this._infoMap[e]?a.su.debug.error('Duplicated definition "'+e+'"'):(this._infoMap[e]={},this._infoMap[e].constructor=i?(r=this.type,n=i,function(e){r.call(this,e),n&&a.extend(this,n.call(this))}):this.type,this._infoMap[e].options=t)},e.prototype.init=function(e){this._infoMap[e]&&(this._map[e]=new this._infoMap[e].constructor(this._infoMap[e].options))},e.prototype.get=function(e){return this._map[e]},e.prototype.destroy=function(e){delete this._map[e]},e)}(jQuery),function(s){s.su.ModelManager=function(){var e=function(){s.su.Manager.call(this),this.type=s.su.Model};function a(e){return"ev_"+e+"_defined"}return s.su.inherit(s.su.Manager,e),e.prototype.define=function(e,t,i){var r=this,n=s.extend({name:e,factory:i,singleton:!0},t);this._infoMap[e]?s.su.debug.error('Duplicated model definition "'+e+'"'):t&&s.su.Model.checkProxyDep(t.proxy)?s.su.Model.importProxyDep(t.proxy,function(){r._infoMap[e]={"settings":n,"constructor":s.su.Model,"status":"defined"},r.trigger(a(e))}):(r._infoMap[e]={"settings":n,"constructor":s.su.Model,"status":"defined"},r.trigger(a(e)))},e.prototype.init=function(e){var t=this._infoMap[e];if(!t||"available"==t.status)return null;!1!==t.settings.singleton?(this._map[e]=new this._infoMap[e].constructor(this._infoMap[e].settings),this._infoMap[e].status="available"):t.status="available"},e.prototype.get=function(e){var t=this._infoMap[e];return t?!1===t.settings.singleton?new this._infoMap[e].constructor(this._infoMap[e].settings):this._map[e]?this._map[e]:null:null},e.prototype.loadDefine=function(e,t){this.one(a(e),s.su.waiting(t,function(){s.su.debug.error('Load model "'+e+'" timeout.')})),s.su.router.loadModel(e)},e.prototype.getStatus=function(e){return this._infoMap[e]?this._infoMap[e].status:null},e.prototype.isDefined=function(e){return!!this._infoMap[e]},e.prototype.isAvailable=function(e){return!(!this._infoMap[e]||"available"!==this._infoMap[e].status)},e.prototype.destroy=function(e){delete this._map[e]},e}()}(jQuery),function(s){s.su.StoreManager=function(){var e=function(){s.su.Manager.call(this),this.type=s.su.Store};function a(e){return"ev_"+e+"_defined"}return s.su.inherit(s.su.Manager,e),e.prototype.define=function(e,t,i){var r=this,n=s.extend({name:e,factory:i,singleton:!0},t);this._infoMap[e]?s.su.debug.error('Duplicated store definition "'+e+'"'):t&&s.su.Store.checkProxyDep(t.proxy)?s.su.Store.importProxyDep(t.proxy,function(){r._infoMap[e]={"settings":n,"status":"defined"},r.trigger(a(e))}):(r._infoMap[e]={"settings":n,"status":"defined"},r.trigger(a(e)))},e.prototype.init=function(e){var t=this._infoMap[e];if(!t||"available"==t.status)return null;if(!1!==t.settings.singleton){var i=this._infoMap[e].settings.type||"store";this._map[e]=new(s.su[s.su.format.capitalize(i)])(this._infoMap[e].settings),this._infoMap[e].status="available"}else t.status="available"},e.prototype.get=function(e){var t=this._infoMap[e];if(!t)return null;if(!1!==t.settings.singleton)return this._map[e]?this._map[e]:null;var i=this._infoMap[e].settings.type||"store";return new(s.su[s.su.format.capitalize(i)])(t.settings)},e.prototype.loadDefine=function(e,t){this.one(a(e),s.su.waiting(t,function(){s.su.debug.error('Load store "'+e+'" timeout.')})),s.su.router.loadModel(e)},e.prototype.getStatus=function(e){return this._infoMap[e]?this._infoMap[e].status:null},e.prototype.isDefined=function(e){return!!this._infoMap[e]},e.prototype.isAvailable=function(e){return!(!this._infoMap[e]||"available"!==this._infoMap[e].status)},e.prototype.destroy=function(e){delete this._map[e]},e}()}(jQuery),function(o){o.su=o.su||{},o.su.ModuleManager=function(){var e=function(){o.su.Manager.call(this),this.type=o.su.Module,this._depMap={},this._toLoading=[],this._toDestroy=[]};o.su.inherit(o.su.Manager,e);var s=function(e){return"ev_module_"+e+"_defined"};return e.prototype.define=function(e,t,i){var r=this,n=o.extend({"name":e,deps:[],models:[],stores:[],views:[]},t);if(this._infoMap[e])o.su.debug.error('Duplicated module definition "'+e+'"');else{(function(e,t){for(var i=0;i<t.length;i++)this._depMap.hasOwnProperty(t[i])?0<=o.inArray(this._depMap[t[i]],e)||this._depMap[t[i]].push(e):this._depMap[t[i]]=[e]}).call(this,n.name,n.deps),this._infoMap[e]={"settings":n,"constructor":null,"status":o.su.Module.STATUS.LOADING_DEFINE};var a=function(e){this.factory=i,o.su.Module.call(this,e)};o.su.inherit(o.su.Module,a),this._infoMap[e].constructor=a,function(r){var i=this,e=this._infoMap[r].settings,t=e.models,n=e.stores,a=e.deps,s=e.views;return o.when(function(e){var t=o.map(e,function(e,t){return i=o.Deferred(),o.su.modelManager.isDefined(e)?i.resolve():o.su.modelManager.loadDefine(e,i.resolve),i.promise();var i});return o.when.apply(this,t)}(t),function(e){var t=o.map(e,function(e,t){return i=o.Deferred(),o.su.storeManager.isDefined(e)?i.resolve():o.su.storeManager.loadDefine(e,i.resolve),i.promise();var i});return o.when.apply(this,t)}(n),function(e){var t=o.map(e,function(e,t){return i=o.Deferred(),o.su.viewManager.isDefined(e,r)?i.resolve():o.su.viewManager.loadDefine(e,r,i.resolve),i.promise();var i});return o.when.apply(this,t)}(s),function(e){var t=o.map(e,function(t,e){return function(){var e=o.Deferred();if(o.su.moduleManager.isDefined(t))e.resolve();else switch(o.su.moduleManager.getStatus(t)){case o.su.Module.STATUS.DEFINE_NOT_LOADED:o.su.moduleManager.loadDefine(t,e.resolve);break;case o.su.Module.STATUS.LOADING_DEFINE:if(0<=o.inArray(r,i._infoMap[t].settings.deps))return e.reject('Error: module "'+t+'" and "'+r+'" can not depend each other in "deps"');o.su.moduleManager.loadDefine(t,e.resolve);break;default:e.resolve()}return e.promise()}()});return o.when.apply(this,t)}(a)).fail(function(e){o.su.debug.error(e)})}.call(this,e).then(function(){r._infoMap[e].status=o.su.Module.STATUS.DEFINED,o(r).trigger(s(e))})}},e.prototype.query=function(e){return!!this._map[e]&&this._map[e]},e.prototype.unload=function(e){this._map[e]&&(this._map[e].destroy(),delete this._map[e],this._infoMap[e].status=o.su.Module.STATUS.DEFINED)},e.prototype.loadDefine=function(e,t){var i=s(e);o.su.moduleManager.getStatus(e)===o.su.Module.STATUS.DEFINE_NOT_LOADED&&o.su.router.loadController(e),o(this).one(i,function(){t&&t()})},e.prototype.load=function(e){var t=o.Deferred();switch(o.su.moduleManager.getStatus(e)){case o.su.Module.STATUS.DEFINED:case o.su.Module.STATUS.AVAILABLE:o.su.moduleManager.init(e),t.resolve();break;case o.su.Module.STATUS.LOADING_DEFINE:case o.su.Module.STATUS.DEFINE_NOT_LOADED:o.su.moduleManager.loadDefine(e,function(){o.su.moduleManager.init(e),t.resolve()});break;default:o.su.debug.error('Module "'+e+'" is not defined.')}return t.promise()},e.prototype.getStatus=function(e){var t=this._infoMap;return t[e]?t[e].status:!!o.su.router.query(e)&&o.su.Module.STATUS.DEFINE_NOT_LOADED},e.prototype.isDefined=function(e){return!(!this._infoMap[e]||this._infoMap[e].status===o.su.Module.STATUS.LOADING_DEFINE)},e.prototype.isAvailable=function(e){return!(!this._infoMap[e]||this._infoMap[e].status!==o.su.Module.STATUS.AVAILABLE)},e.prototype.init=function(e){var i=this;this._infoMap[e]&&this._infoMap[e].status!=o.su.Module.STATUS.AVAILABLE&&(this._map[e]=new this._infoMap[e].constructor(this._infoMap[e].settings),this._infoMap[e].status=o.su.Module.STATUS.AVAILABLE,this._map[e].addListener("ev_to_destroy",function(e,t){i.prepareDestroy(t)}))},e.prototype.prepareDestroy=function(e){if(this._depMap[e])for(var t=0;t<this._depMap[e].length;t++){var i=this._depMap[e][t];if(this.isAvailable(i))return void(-1===o.inArray(e,this._toDestroy)&&this._toDestroy.push(e))}this.unload(e);var r=o.inArray(e,this._toDestroy);0<=r&&this._toDestroy.splice(r,1);for(var n=this._infoMap[e].settings.deps,a=0;a<n.length;a++)0<=o.inArray(n[a],this._toDestroy)&&this.prepareDestroy(n[a])},e.prototype.launch=function(e,t){this.load(e,function(){o.su.moduleManager.query(e).load(t)})},e}()}(jQuery),function(n){n.su.ViewManager=function(){var e=function(){n.su.Manager.call(this),this.type=n.su.View};n.su.inherit(n.su.Manager,e),e.prototype.init=function(e){this._infoMap[e];var t=new n.su.View(e,this._infoMap[e].DOM),i=t.getID();return this._map[i]=t};return e.prototype.define=function(e,t){this._infoMap[e]||(this._infoMap[e]={"DOM":t,"status":"defined"})},e.prototype.isDefined=function(e,t){return!!this._infoMap[e]},e.prototype.loadDefine=function(e,t,i){var r=this;n.su.router.loadView(t,e,function(e){(function(e){var r=this;n(e).filter("[view]").each(function(e,t){var i=n(t).attr("view").replace(/[\{,\}]/g,"");r.define(i,n(t))})}).call(r,e),i&&i()})},e.prototype.get=function(e){var t="string"==typeof e?e:e.id;if(this._map[t])return this._map[t]},e.prototype.removeByID=function(e){this._map[e]&&(this._map[e].destroy(),delete this._map[e])},e}()}(jQuery),function(e){var t;e.su.ServiceManager=(t=function(){e.su.Manager.call(this),this.type=e.su.Service},e.su.inherit(e.su.Manager,t),t.prototype.register=function(e,t){if(this._map[e])return this._map[e];this._map[e]=t},t.prototype.get=function(e){return this._map[e]?this._map[e]:null},t)}(jQuery),function(n){var e;n.su=n.su||{},n.su.DataBind=(e=function(e,t){n.su.Observable.call(this);if(this.viewObjs=[],this.dataObj=e,t&&(n.isArray(t)||(t=[t])),this.viewEventHandler={},this.dataEventHandler={},this.dataObj&&this.bindDataObj(this.dataObj),t)for(var i=0;i<t.length;i++)this.bindViewObj(t[i])},n.su.inherit(n.su.Observable,e),e.prototype.getName=function(){if(this.dataObj&&this.dataObj._name)return this.dataObj._name},e.prototype.bind=function(e,t){n.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this.bindViewObj(e[i]);this.bindDataObj(t)},e.prototype.bindDataObj=function(e){var t=this.constructor.dataEventMap;for(var i in this.unbindDataObj(),this.dataObj=e,t){var r=t[i].fn;"string"==typeof r&&(r=this[r]);var n=function(e,t){return function(){e.apply(t,arguments)}}(r,this);this.dataEventHandler[i]=n,e.addListener(i,n)}},e.prototype.viewIsBinded=function(e){return 0<=n.inArray(e,this.viewObjs)},e.prototype.isBinded=function(){return null!==this.dataObj},e.prototype.bindViewObj=function(e){var t=this.constructor,i=t.viewEventMap[e._type]?t.viewEventMap[e._type]:t.viewEventMap.defaults;if(!this.viewIsBinded(e)){for(var r in this.viewObjs.push(e),this.viewEventHandler[e.domId]={},i){var n=i[r].fn;"string"==typeof n&&(n=this[n]);var a=function(t,i,r){return function(){var e=Array.prototype.slice.call(arguments);e[e.length]=i,t.apply(r,e)}}(n,e,this);this.viewEventHandler[e.domId][r]=a,e.dom().on(r,a)}e.dataBind?e.dataBind.push(this):e.dataBind=[this]}},e.prototype.unbind=function(){this.unbindDataObj(),this.unbindViewObjs()},e.prototype.unbindDataObj=function(){if(this.dataObj){for(var e in this.dataEventHandler)this.dataObj.off(e,this.dataEventHandler[e]);this.dataObj=null}this.trigger("ev_data_unbind")},e.prototype.unbindViewObj=function(e){var t;if(0<=(t=n.inArray(e,this.viewObjs))){var i=this.viewEventHandler[e.domId];for(var r in i)i.hasOwnProperty(r)&&e.dom().off(r,i[r]);delete this.viewEventHandler[e.domId],this.viewObjs.splice(t,1)}0<=(t=n.inArray(this,e.dataBind))&&e.dataBind.splice(t,1)},e.prototype.unbindViewObjs=function(){for(var e=this.viewObjs.length;0<e;e--)this.unbindViewObj(this.viewObjs[e-1])},e.prototype.syncView=function(){},e)}(jQuery),function(s){s.su=s.su||{},s.su.DataFieldBind=function(){var i={sync:function(e){if(this.dataObj){var t=this.dataObj.getValue();this._syncDataValue(t),this.dataObj.disabled&&this.disable()}}},e={defaults:{ev_view_change:{fn:function(e,t,i){switch(e.stopPropagation(),t.type){case"value":this._responseViewValueChanges(t.value,i);break;case"valid":this.validate();break;case"record":this.dataObj&&(this.setValue(t.value),this.dataObj.record())}}},ev_view_update:{fn:function(){if(this.dataObj){var e=this.dataObj.getValue();this._syncDataValue(e)}}},ev_view_disable:{fn:function(){this.dataObj.disable()}},ev_view_enable:{fn:function(){this.dataObj.enable()}},ev_widget_hide:{fn:function(){this.setNormal&&this.setNormal()}}},"switch":{ev_view_change:{fn:function(e,s,t){switch(e.stopPropagation(),s.type){case"value":!function o(r){var n=r.dataBind[0],e=r.settings,t=e.trueValue,a=(e.falseValue,!1);r.showLoading(s.value===t?"on":"off");var i=function(e,t,i){a=!0,i.one("ev_model_submit_complete",function(e){n.dataObj.isDirty()&&n.dataObj.reset(),r.hideLoading()})};n.one("ev_model_before_submit",i),setTimeout(function(){a||(n.off("ev_model_before_submit",i),r.hideLoading())},0)}(t),this._responseViewValueChanges(s.value,t);break;case"valid":this.validate();break;case"record":this.dataObj&&(this.setValue(s.value),this.dataObj.record())}},argsInterface:null}},cell:{ev_view_change:{fn:function(e,o,t){switch(e.stopPropagation(),o.type){case"value":"switch"===t.column.widgetName&&function _(e){var r=e.settings.objs.grid.dataBind[0],n=e.dom().find("[widget=switch]").data("viewObj"),t=e.column.settings,i=t.trueValue,a=(t.falseValue,!1);n.showLoading(o.value===i?"on":"off");var s=function(e,t,i){a=!0,r.one("ev_store_sync_complete",function(e){r.isDirty()&&r.reset(),n.hideLoading()})};r.one("ev_store_before_sync",s),setTimeout(function(){a||(r.off("ev_store_before_sync",s),n.hideLoading())},0)}(t),this._responseViewValueChanges(o.value,t);break;case"valid":this.validate();break;case"record":this.dataObj&&(this.setValue(o.value),this.dataObj.record())}}}}};for(var t in e)"defaults"!=t&&(e[t]=s.extend(!0,{},e.defaults,e[t]));var o=function(e,t){s.su.DataBind.call(this,e,t),this.addListener(i)};s.su.inherit(s.su.DataBind,o),o.argsTransMap={setValue:{defaults:function(e){return e},textBox1:function(e){return e[0]},dataObj1:function(e){return e[0]}},validate:{},getValue:{}},o.viewEventMap=e,o.dataEventMap={ev_data_change:{fn:function(e,t){switch(t.type){case"_value":this.setNormal(),this._responseDataValueChange(t.value.value,t.value.oldValue);break;case"valid":!0===t.value?this.setNormal():this.setError(t.value),this.fireEvent("ev_valid_change",[t.value])}}},ev_model_before_submit:{fn:function(e,t,i){this.trigger("ev_model_before_submit",[t,i])}}};var r=function(s){return function(){var e,t=o.argsTransMap[s];if(this.viewObjs&&0<this.viewObjs.length)for(var i in this.viewObjs){var r,n=this.viewObjs[i],a=n._type;if(n[s])e=(r=n[s].apply(n,t&&t[a]?t[a](arguments):arguments))===undefined?e:r}this.dataObj&&this.dataObj[s]&&(e=r=this.dataObj[s].apply(this.dataObj,t&&t["dataObj"]?t["dataObj"](arguments):arguments));return e}};for(var t in s.su.Widget.regMap){if(s.su.Widget.regMap.hasOwnProperty(t))var n=s.su.Widget.regMap[t];for(var a in n)n.hasOwnProperty(a)&&"function"==typeof n[a]&&"_init"!=a&&"init"!=a&&"create"!=a&&(o.prototype[a]||(o.prototype[a]=r(a)))}for(var t in s.su.DataField.prototype)"function"==typeof s.su.DataField.prototype[t]&&(o.prototype[t]||(o.prototype[t]=r(t)));return o.prototype.setValue=function(e){this.dataObj?this.dataObj.setValue(e):this._syncDataValue(e)},o.prototype.getName=function(){if(this.dataObj&&this.dataObj.name)return this.dataObj.name},o.prototype._responseViewValueChanges=function(e,t){this.dataObj&&(s.su.valueEqual(e,this.dataObj.getValue())||this.dataObj.setValue(e))},o.prototype._responseDataValueChange=function(e,t){if(s.su.valueEqual(e,t)){var i=this.viewObjs.length;if(0===i)this.fireEvent("ev_value_change",[e,t]);else for(var r=0;r<i;r++)for(var n=this.viewObjs[r],a=0;a<n.dataBind.length;a++){n.dataBind[a]instanceof s.su.DataFieldBind&&n.dataBind[a].fireEvent("ev_value_change",[e,t])}}else{if(!1===this._syncDataValue(e))return;this.fireEvent("ev_value_change",[e,t])}},o.prototype._syncDataValue=function(e){for(var t=0;t<this.viewObjs.length;t++){var i=this.viewObjs[t];if(i.setValue&&(i.getValue&&s.su.valueEqual(i.getValue(),e)||i.setValue(e)),this.dataObj&&!s.su.valueEqual(this.dataObj.getValue(),e))return!1;for(var r=0;r<i.dataBind.length;r++){var n=i.dataBind[r];n!==this&&n instanceof s.su.DataFieldBind&&n.getValue&&!s.su.valueEqual(n.getValue(),e)&&i.dataBind[r].setValue(e)}}},o.prototype.bindDataObj=function(e){o.superclass.bindDataObj.call(this,e),this.syncView()},o.prototype.bindViewObj=function(e){o.superclass.bindViewObj.call(this,e),this.syncView()},o.prototype.syncView=function(){this.fireEvent("sync")},o}()}(jQuery),function(l){l.su=l.su||{},l.su.ModelBind=function(){var i={setValue:{defaults:function(e){return e},textBox1:function(e){return e[0]},dataObj1:function(e){return e[0]}},load:{dataObj:function(){var e=[].slice.call(arguments,0),t=e[0];return t&&t.success&&(t.success=a.call(this,t.success)),t&&t.fail&&(t.fail=a.call(this,t.fail)),t&&t.error&&(t.error=a.call(this,t.error)),e}}},e={defaults:{"value_change":{fn:"setValue",argsInterface:null},"validate_change":{fn:"validate"},ev_view_change:{fn:function(e,t){switch(t.type){case"value":this.setValue(t.value);break;case"valid":this.validate()}}}},form:{"value_change":{fn:function(e,t,i){},argsInterface:null}}};for(var t in e)"defaults"!=t&&(e[t]=l.extend(!0,{},e.defaults,e[t]));var r={ev_model_submit_error:{fn:function(e,t){l.su.raise({msg:"ev_model_submit_error",type:"model_submit_error",errorCode:t,modelBind:this})},argsInterface:null},ev_model_load_error:{fn:function(e,t){l.su.raise({msg:"ev_model_load_error",type:"model_load_error",errorCode:t,modelBind:this})},argsInterface:null},ev_model_ajax_error:{fn:function(e,t,i){l.su.raise({msg:"ev_model_ajax_error",type:"model_ajax_error",ajaxErrorStatus:t,ajaxErrorXhr:i,modelBind:this})},argsInterface:null},ev_before_load_data:{fn:function(e,t){this.fireEvent("ev_before_load_data",[t])},argsInterface:null},ev_loaded:{fn:function(e,t){this.fireEvent("ev_loaded",[t])},argsInterface:null},ev_data_change:{fn:function(e,t,i,r){this._responseDataChange();var n=this[i.getName()];this.trigger("ev_data_change",[t.value,n,this])}},ev_data_record:{fn:function(e,t,i,r){var n=this[i.getName()];this.trigger("ev_data_record",[t.value,n,this])}},ev_validate_change:{fn:function(e,t){this.trigger("ev_validate_change",[t])}},ev_model_submit:{fn:function(e,t,i){this.trigger("ev_model_submit",[t,i])}},ev_model_before_submit:{fn:function(e,t){this.trigger("ev_model_before_submit",[t])}},ev_model_submit_complete:{fn:function(e){this.trigger("ev_model_submit_complete",[].slice.call(arguments,1))}}},n={validate:{dataObj:function(e){var i,r=this.dataObj;return!0===(i=r.validate(e))&&l.each(this.validators,function(e,t){if(!0!==(i=t.call(r)))return!1}),i}}},_=function(e,t){this.subFieldsBinds={},this.validators=[],l.su.DataBind.call(this,e,t)};l.su.inherit(l.su.DataBind,_),_.argsTransMap=i,_.viewEventMap=e,_.dataEventMap=r,_.fnsTransMap=n;var a=function(e){var t=this;return function(){t&&t.isBinded()?e.apply(t.dataObj,arguments):t=null}},s=function(o){return function(){var e,t=_.argsTransMap[o];if(this.viewObjs&&0<this.viewObjs.length)for(var i in this.viewObjs){var r=this.viewObjs[i],n=r._type;if(r[o]){var a=t&&t[n]?t[n].apply(this,arguments):arguments;e=(s=r[o].apply(r,a))===undefined?e:s}}if(this.dataObj&&this.dataObj[o]){var s;a=t&&t["dataObj"]?t["dataObj"].apply(this,arguments):arguments;e=s=this.dataObj[o].apply(this.dataObj,a)}return e}};for(var t in l.su.Widget.regMap){if(l.su.Widget.regMap.hasOwnProperty(t))var o=l.su.Widget.regMap[t];for(var d in o)o.hasOwnProperty(d)&&"function"==typeof o[d]&&"_init"!=d&&"init"!=d&&"create"!=d&&(_.prototype[d]||(_.prototype[d]=s(d)))}for(var t in l.su.Model.prototype){var u;if("function"==typeof l.su.Model.prototype[t])if(!_.prototype[t])_.prototype[t]=n[t]&&(u=n[t].dataObj)?function(){var e=i[name],t=e&&e["dataObj"]?e["dataObj"].apply(this,arguments):arguments;return u.apply(this,t)}:s(t)}return _.prototype.bindDataObj=function(t){var i=this;if(_.superclass.bindDataObj.call(this,t),this.createSubBinds(),this.viewObjs)for(var e=0;e<this.viewObjs.length;e++)this.syncSubViewBinds(this.viewObjs[e]);for(var r in this.syncView(),t.methods)t.methods.hasOwnProperty(r)&&"function"==typeof t.methods[r]&&(i[r]||(i[r]=function(e){return function(){t.methods[e].apply(i,arguments)}}(r)))},_.prototype.createSubBinds=function(){var e=this.dataObj.fields;this.subFieldsBinds={};for(var t=0;t<e.length;t++)this[e[t].name]=this.subFieldsBinds[e[t].name]=new l.su.DataFieldBind(this.dataObj.data[t])},_.prototype.syncSubViewBinds=function(e){if(e.getAllFields){var t=e.getAllFields();if(!t)return;for(var i=0;i<t.length;i++){var r=t[i],n=r.field,a=this.subFieldsBinds[n];a&&!a.viewIsBinded(r)&&a.bindViewObj(r)}}},_.prototype.syncSubViewUnbinds=function(e){if(e.getAllFields)for(var t=e.getAllFields(),i=0;i<t.length;i++){var r=t[i],n=r.field,a=this.subFieldsBinds[n];a&&a.viewIsBinded(r)&&a.unbindViewObj(r)}},_.prototype.bindViewObj=function(e){_.superclass.bindViewObj.call(this,e),this.dataObj&&this.syncSubViewBinds(e),this.syncView()},_.prototype.unbindDataObj=function(){for(var e in this.subFieldsBinds)this.subFieldsBinds.hasOwnProperty(e)&&(this.subFieldsBinds[e].unbind(),delete this[e]);for(var t in this.dataObj.methods)this.dataObj.methods.hasOwnProperty(t)&&delete this[t];this.subFieldsBinds={},this.validators=[],_.superclass.unbindDataObj.call(this)},_.prototype.unbindViewObj=function(e){this.syncSubViewUnbinds(e),_.superclass.unbindViewObj.call(this,e)},_.prototype._responseDataChange=function(){for(var e=this.dataObj.getData(),t=0;t<this.viewObjs.length;t++)for(var i=this.viewObjs[t],r=0;r<i.dataBind.length;r++){var n=i.dataBind[r];n.dataObj!==this.dataObj&&n.dataObj.loadData(e)}},_.prototype.getAllFields=function(){return this.subFieldsBinds},_.prototype.addValidator=function(e){var i=this;return e=[].concat(e),l.each(e,function(e,t){"function"===l.type(t)&&i.validators.push(t)}),this.validators},_}()}(jQuery),function(l){l.su=l.su||{},l.su.StoreBind=function(){var i={sync:function(e){if(this.dataObj){for(var t=this.dataObj.getAllKeys(),i=0,r=this.viewObjs.length;i<r;i++)this.viewObjs[i].syncData&&this.viewObjs[i].syncData(t);var n=this.getStoreData();this.loadItems&&this.loadItems(n);for(i=0,r=this.viewObjs.length;i<r;i++)this.viewObjs[i].dom().triggerHandler("ev_store_bound")}}},e={setValue:{defaults:function(e){return e},textBox1:function(e){return e[0]},dataObj1:function(e){return e[0]}},load:{dataObj:function(){var e=[].slice.call(arguments,0),t=e[0];return t&&t.success&&(t.success=a.call(this,t.success)),t&&t.fail&&(t.fail=a.call(this,t.fail)),t&&t.error&&(t.error=a.call(this,t.error)),e}}},d=function(e){if("popEditor"==e._type&&0<e.containerMsg.dom().find("div[widget=form]").length)return e.containerMsg.dom().find("div[widget=form]").eq(0).data("viewObj").dataBind[0];return!1},t={defaults:{ev_grid_edit:{fn:function(e,t,i){var r=i.getPlugin("editor"),n=d(r);if(n){if("add"!=t){var a=this.getSubModelBindByKey(t).getData();n.loadData(a,!0)}else{var s=this.dataObj.createModel();this.addModelBind.modelBind=new l.su.ModelBind(s),n.loadData(s.getData(),!0),this.addModelBind.key=this.dataObj.getModelKey(s)}n.setNormal()}else{s=this.dataObj.createModel();if(this.addModelBind.modelBind=new l.su.ModelBind(s),this.addModelBind.modelBind.bindViewObj(r),"add"!=t){a=this.getSubModelBindByKey(t).getData();this.addModelBind.modelBind.dataObj.loadData(a),this.addModelBind.key=t}else this.addModelBind.modelBind.dataObj.loadData(s.getData()),this.addModelBind.key=this.dataObj.getModelKey(s)}this.trigger("ev_before_add",[this.addModelBind.modelBind,this])},argsInterface:null},ev_grid_cancel:{fn:function(e,t,i){var r=i.getPlugin("editor"),n=d(r);n?n.reset():(this.addModelBind.modelBind.reset(),this.addModelBind.modelBind.unbindViewObj(r),this.addModelBind.key=null,this.addModelBind.modelBind=null)}},ev_grid_save:{fn:function(e,t,i,r){var n=r.getPlugin("editor");if(o=d(n)){if(this.trigger("ev_before_save",[o,this]),!0!==(a=o.dataObj.validate({returnDetail:!0})).result)return this.trigger("ev_editor_validator_fail",[a.field]),void t.preventDefault();if(s=this.dataObj.dataConflict(o.dataObj,i))return this.trigger("ev_editor_data_conflict_fail",[o,s]),void t.preventDefault();if("add"!=i)this.getSubModelBindByKey(i).replaceData(o.modelSerialize(o.getData()));else this.addModelBind.key&&(this.addModelBind.modelBind.replaceData(o.modelSerialize(o.getData())),this.dataObj.insertModel(this.addModelBind.modelBind.dataObj))}else{var a,s,o=this.addModelBind.modelBind;if(this.trigger("ev_before_save",[o,this]),!0!==(a=o.dataObj.validate({returnDetail:!0})).result)return this.trigger("ev_editor_validator_fail",[a.field]),void t.preventDefault();if(s=this.dataObj.dataConflict(o.dataObj,i))return this.trigger("ev_editor_data_conflict_fail",[o,s]),void t.preventDefault();if("add"!=i)this.getSubModelBindByKey(i).loadData(o.getData()),o.unbindViewObj(n);else this.addModelBind.key&&(this.addModelBind.modelBind.unbindViewObj(n),this.addModelBind.modelBind.record(),this.dataObj.insertModel(this.addModelBind.modelBind.dataObj))}if(this.addModelBind.key=null,this.addModelBind.modelBind=null,!1!==this.dataObj.autoSync){var _=l.su.getDefaultEvent(this,this.sync);this.trigger("ev_before_sync",[_.ev,this.dataObj.proxy]),_.exe()}}},ev_grid_delete:{fn:function(e,t,i){this.dataObj.removeDataByKey(t);var r=l.su.getDefaultEvent(this,this.sync);this.trigger("ev_before_sync",[r.ev,this.dataObj.proxy,t]),r.exe()}},ev_grid_delete_all:{fn:function(e){var t=this.dataObj.getAllKeys();this.dataObj.removeDataByKey(t);var i=l.su.getDefaultEvent(this,this.sync,{deleteAll:!0});this.trigger("ev_before_delete_all",[i.ev,this.dataObj.proxy]),i.exe()}},ev_grid_row_selected:{fn:function(e,t){this.dataObj.selectByKey(t)}},ev_grid_row_unselected:{fn:function(e,t){this.dataObj.unselectByKey(t)}},ev_grid_row_selected_all:{fn:function(e,t){this.dataObj.selectAll()}},ev_grid_row_unselected_all:{fn:function(e,t){this.dataObj.unselectAll()}},ev_grid_filter:{fn:function(e,t,i,r){this.dataObj.filter({filters:t,append:i,columns:r})}},ev_store_render_items:{fn:function(e,t,i){if(this.dataObj){for(var _=this.dataObj.keyProperty,d=[],r=[],n=0;n<t.length;n++){var a=this.getSubModelBindByKey(t[n]);r.push(a.dataObj),d.push(a)}i.renderModels(_,r,function(e){for(var t=e.length,i=d.length,r=0;r<t;r++){for(var n=e[r].key,a=e[r].obj,s=0;s<i;s++){var o=d[s];if(o.dataObj.getField(_).getValue()!==n)throw new Error("store render item return unknown key");o.bindViewObj(a);break}d.splice(s,1),i-=1}})}}},ev_store_before_sync:{fn:function(e){this.trigger("ev_store_before_sync")}},ev_store_sync_complete:{fn:function(e){this.trigger("ev_store_sync_complete",[].slice.call(arguments,1))}}},form:{}};for(var r in t)"defaults"!=r&&(t[r]=l.extend(!0,t.defaults,t[r]));var n={ev_loaded:{fn:function(e){var t=this.dataObj;this.unbindDataObj();for(var i=0;i<this.viewObjs.length;i++){switch((r=this.viewObjs[i])._type){case"grid":(n=r.dom()).data("oldMinHeight",n.css("min-height")),n.css("min-height",n.outerHeight()+"px"),r.remove(null,!1);break;case"repeat":r.remove(null,!1)}}this.bindDataObj(t),this.fireEvent("ev_loaded"),this.fireEvent("ev_storedata_loaded");for(i=0;i<this.viewObjs.length;i++){var r;switch((r=this.viewObjs[i])._type){case"grid":var n;(n=r.dom()).css("min-height",n.data("oldMinHeight"))}}},argsInterface:null},ev_sync_success:{fn:function(e){this.fireEvent("ev_sync_success")}},ev_model_deleted:{fn:function(e,t){for(var i,r=0;r<t.length;r++){i=t[r];var n=this.getSubModelBindIndex(i);this.subModelsBinds[n].unbind(),this.subModelsBinds.splice(n,1),delete this._convertedkeyMap[this._convertKey(i)];for(var a=0;a<this.viewObjs.length;a++){var s=this.viewObjs[a];"information"===s._type&&s.remove(i),"grid"===s._type&&s.deleteItem(i)}}}},ev_model_inserted:{fn:function(e,t){var i;t=t===undefined?0:t;var r=this.dataObj.getKeyByIndex(t),n=new l.su.ModelBind(this.dataObj.getModelByIndex(t));this.subModelsBinds.splice(t,0,n),this._convertedkeyMap[this._convertKey(r)]=n;for(var a=0;a<this.viewObjs.length;a++)"grid"===(i=this.viewObjs[a])._type&&(i.addItem(r),i.moveItem(r,t))}},ev_store_item_moved:{fn:function(e,t,i,r){var n=this.subModelsBinds.splice(r,1);this.subModelsBinds.splice(i,0,n[0]);for(var a=0;a<this.viewObjs.length;a++)this.viewObjs[a].moveItem(t,i)}},ev_store_sync_success:{fn:function(e,t){this.fireEvent("ev_store_sync_success",[t])}},ev_store_sync_error:{fn:function(e,t,i){l.su.raise({msg:"ev_store_submit_error",type:"store_submit_error",errorCode:t,data:i,storeBind:this})},argsInterface:null},ev_store_ajax_error:{fn:function(e,t,i){l.su.raise({msg:"ev_store_ajax_error",type:"store_ajax_error",ajaxErrorStatus:t,ajaxErrorXhr:i,storeBind:this})},argsInterface:null},ev_data_change:{fn:function(e,t,i,r,n){var a=this.getModelKey(r),s=this.getSubModelBindByKey(a),o=s[i.name];this.trigger("ev_data_change",[t.value,o,s,this])},argsInterface:null},ev_store_before_sync:{fn:function(e,t){this.trigger("ev_store_before_sync",[t])}},ev_store_sync_complete:{fn:function(e){this.trigger("ev_store_sync_complete",[].slice.call(arguments,1))}},ev_store_data_load_success:{fn:function(e,t,i){for(var r=0;r<this.viewObjs.length;r++){"grid"===this.viewObjs[r]._type&&"number"===l.type(i.maxRules)&&this.setMaxRules(i.maxRules)}}},ev_store_select_change:{fn:function(e,t){for(var i=0;i<this.viewObjs.length;i++){var r=this.viewObjs[i];"grid"===r._type&&(t.select&&0<t.select.length&&r.setSelected(t.select),t.unselect&&0<t.unselect.length&&r.setUnselected(t.unselect))}}}},_=function(e,t){this.subModelsBinds=[],this.addModelBind={key:null,modelBind:null},this._convertedkeyMap={},l.su.DataBind.call(this,e,t),this.addListener(i)};l.su.inherit(l.su.DataBind,_),_.argsTransMap=e,_.viewEventMap=t,_.dataEventMap=n;var a=function(e){var t=this;return function(){t&&t.isBinded()?e.apply(t.dataObj,arguments):t=null}},s=function(o){return function(){var e,t=_.argsTransMap[o];if(this.viewObjs&&0<this.viewObjs.length)for(var i in this.viewObjs){var r=this.viewObjs[i],n=r._type;if(r[o]){var a=t&&t[n]?t[n].apply(this,arguments):arguments;e=(s=r[o].apply(r,a))===undefined?e:s}}if(this.dataObj&&this.dataObj[o]){var s;a=t&&t["dataObj"]?t["dataObj"].apply(this,arguments):arguments;e=s=this.dataObj[o].apply(this.dataObj,a)}return e}};for(var r in l.su.Widget.regMap){if(l.su.Widget.regMap.hasOwnProperty(r))var o=l.su.Widget.regMap[r];for(var u in o)o.hasOwnProperty(u)&&"function"==typeof o[u]&&"_init"!=u&&"init"!=u&&"create"!=u&&(_.prototype[u]||(_.prototype[u]=s(u)))}for(var r in l.su.Store.prototype)"function"==typeof l.su.Store.prototype[r]&&(_.prototype[r]||(_.prototype[r]=s(r)));return _.prototype.bindDataObj=function(e){for(var t in _.superclass.bindDataObj.call(this,e),this.createSubBinds(),this.syncView(),e.methods)e.methods.hasOwnProperty(t)&&"function"==typeof e.methods[t]&&(this[t]||(this[t]=function(){return e.methods[t].apply(e,arguments)}))},_.prototype.createSubBinds=function(){this.subModelsBinds=[];for(var e=this.dataObj,t=e.getSize(),i=0;i<t;i++){var r=e.getModelByIndex(i),n=this.getModelKey(r),a=new l.su.ModelBind(r);this.subModelsBinds.push(a),this._convertedkeyMap[this._convertKey(n)]=a}},_.prototype.syncSubViewBinds=function(n){var a=this;"grid"===n._type&&(n.remove(),n.loadGridData(this.dataObj.keyProperty,this.dataObj.data,function(){for(var e=n.getRows(),t=0;t<a.subModelsBinds.length;t++){a.dataObj.getKeyByIndex(t);var i=a.subModelsBinds[t],r=e[t];i.bindViewObj(r)}}))},_.prototype.syncSubViewUnbinds=function(e){var t=0!==e.dom().length;if("grid"===e._type){for(var i=e.getRow(),r=e.getPlugin("editor"),n=i.length,a=0;a<n;a++){var s=i[a].obj,o=s.key,_=this.getSubModelBindByKey(o);_&&_.viewIsBinded(s)&&_.unbindViewObj(s)}t&&e.remove(),this.addModelBind&&this.addModelBind.modelBind&&this.addModelBind.modelBind.viewIsBinded(r)&&this.addModelBind.modelBind.unbindViewObj(r)}},_.prototype.bindViewObj=function(e){_.superclass.bindViewObj.call(this,e),this.syncView()},_.prototype.getModelByKey=_.prototype.getSubModelBindByKey=function(e){return this._convertedkeyMap[this._convertKey(e)]},_.prototype.getModelByIndex=_.prototype.getSubModelBindByIndex=function(e){return this.subModelsBinds[e]},_.prototype.getSubModelBindIndex=function(e){var t=this._convertedkeyMap[this._convertKey(e)];return l.inArray(t,this.subModelsBinds)},_.prototype.getModelIndex=function(e){return l.inArray(e,this.subModelsBinds)},_.prototype.getModelKey=function(e){return e[this.dataObj.keyProperty].getValue()},_.prototype.getEditingModel=function(){return this.addModelBind.modelBind},_.prototype.each=function(e){for(var t=0;t<this.subModelsBinds.length;t++){e(this.subModelsBinds[t])}},_.prototype.setField=function(e,t){for(var i=0;i<this.subModelsBinds.length;i++){var r=this.subModelsBinds[i];t(r[e],r)}},_.prototype.unbindDataObj=function(){for(var e=0;e<this.subModelsBinds.length;e++)this.subModelsBinds[e].unbind();if(this.dataObj)for(var t in this.dataObj.methods)this.dataObj.methods.hasOwnProperty(t)&&delete this[t];this.subModelsBinds=[],this._convertedkeyMap={},_.superclass.unbindDataObj.call(this)},_.prototype.unbindViewObj=function(e){this.syncSubViewUnbinds(e),_.superclass.unbindViewObj.call(this,e)},_.prototype.syncView=function(){this.fireEvent("sync")},_.prototype.getSubModelBindByModel=function(e){for(var t=0;t<this.subModelsBinds.length;t++)if(this.subModelsBinds[t].dataObj===e)return this.subModelsBinds[t];return!1},_.prototype._convertKey=function(e){return l.type(e)+"_"+e},_.prototype._getOriginalKey=function(e){var t=e.slice(0,6),i=e.slice(7);return"number"===t?Number(i):i},_}()}(jQuery);var TPLINK_FACTURER=0,MERCUSYS_FACTURER=1,SYSTEM_MODE_BEGIN=0,SYSTEM_MODE_ROUTER=1,SYSTEM_MODE_AP=2,SYSTEM_MODE_RE=3,SYSTEM_MODE_WISP=4,SYSTEM_MODE_END=5,DEFAULT_MAC=0,PC_MAC=1,USER_SET_MAC=2,LEVEL_EXCEPT=0,LEVEL_ERROR=1,LEVEL_WARNING=2,LEVEL_INFO=3,LEVEL_DEBUG=4,LAN_MODE_AUTO=0,LAN_MODE_MANUAL=1,LAN_MODE_SMARTIP_AUTO=0,LAN_MODE_SMARTIP_MANUAL=1,HTTP_REMOTE_DISABLE_ALL=0,HTTP_REMOTE_ENABLE_ALL=1,HTTP_REMOTE_ENABLE_SPECIFY=2,STATION_WIRE=0,STATION_WIRELESS_2G=1,STATION_GUESTNETWORK_2G=2,STATION_WIRELESS_5G=3,STATION_GUESTNETWORK_5G=4,PROTOCOL_TYPE_ALL=0,PROTOCOL_TYPE_TCP=1,PROTOCOL_TYPE_UDP=2,LINK_TYPE_DHCP=0,LINK_TYPE_STATIC_IP=1,LINK_TYPE_PPPOE=2,LINK_TYPE_L2TP=3,LINK_TYPE_PPTP=4,LINK_TYPE_8021X=5,LINK_TYPE_BPA=6,LINK_TYPE_END=7,LINK_DOWN=0,LINK_UP=1,LINKING_UP=2,LINKING_DOWN=3,LINK_CODE_NORMAL=0,LINK_CODE_MANUAL=1,LINK_CODE_UNKNOWN=2,LINK_CODE_DENY=3,LINK_CODE_PHYDOWN=4,LINK_CODE_NOECHO=5,LINK_CODE_SRVDOWN=6,LINK_CODE_OPT_UNSUPPORT=7,LINK_CODE_AUTH_ERR=8,LINK_CODE_AUTH_UNSUPPORT=9,LINK_CODE_IP_CONFLICT=10,LINK_CODE_NO_IPV4=11,LINK_CODE_RA_CHANGED=12,LINK_CODE_POOR_NETWOOK=13,PPPOE_DEMAND=0,PPPOE_AUTO=1,PPPOE_TIMEING=2,PPPOE_MANUAL=3,PPPOE_LINK_TYPE_MAX=4,PPPOE_MODE_NORMAL=0,PPPOE_MODE_END=1,PPPOE_MODE_AUTOSELECT=100,PPPOE_SNDCONN_NONE=0,PPPOE_SNDCONN_DYNAMIC=1,PPPOE_SNDCONN_STATIC=2,TIME_TYPE_NTP=0,TIME_TYPE_PC=1,TIME_TYPE_MANUAL=2,ACCESS_ANY_TARGET=255,ACCESS_ANY_TIME=16777215,WLAN_CHIP_2G=0,WLAN_CHIP_5G=1,WLAN_CHIP_5G_1=2,WLAN_AP_MODE_AP=0,WLAN_AP_MODE_CLIENT=1,WLAN_AP_MODE_WDSRPT=2,WLAN_AP_MODE_UNIRPT=3,WLAN_AP_MODE_PPT=4,WLAN_AP_MODE_MPT=5,WLAN_AP_MODE_MAX=6,DOMAIN_FCC=0,DOMAIN_IC=1,DOMAIN_ETSI=2,DOMAIN_SPAIN=3,DOMAIN_FRANCE=4,DOMAIN_MKK=5,DOMAIN_ISRAEL=6,DOMAIN_MKK1=7,DOMAIN_MKK2=8,DOMAIN_MKK3=9,DOMAIN_FCC_BR=10,DOMAIN_ETSI_RU=11,DOMAIN_2G_1_11_5G_1_4_TGT=12,DOMAIN_2G_1_13_5G_1_4_TGT=13,DOMAIN_2G_1_13_5G_1_4_CE=14,DOMAIN_2G_1_11_5G_1_4_TGT1=15,DOMAIN_MAX=16,WLAN_AUTO_CHANNEL=0,WLAN_MODE_SELECT_MIN=0,WLAN_MODE_11B_ONLY=1,WLAN_MODE_11G_ONLY=2,WLAN_MODE_11BG_MIXED=3,WLAN_MODE_11N_ONLY=4,WLAN_MODE_11BGN_MIXED=5,WLAN_MODE_11GN_MIXED=6,WLAN_MODE_SELECT_MAX=7,WLAN_MODE_5G_SELECT_MIN=100,WLAN_MODE_11A_ONLY=101,WLAN_MODE_11N_5G_ONLY=102,WLAN_MODE_11A_11N_MIXED=103,WLAN_MODE_11A_11N_11AC_MIXED=104,WLAN_MODE_11N_11AC_MIXED=105,WLAN_MODE_5G_SELECT_MAX=106,WLAN_CHAN_WIDTH_AUTO=0,WLAN_CHAN_WIDTH_20M=1,WLAN_CHAN_WIDTH_40M=2,WLAN_CHAN_WIDTH_80M=3,WLAN_CHAN_WIDTH_80M_ADD_80M=4,WLAN_RTS_MAX=2346,WLAN_RTS_MIN=1,WLAN_RTS_DEF=2346,WLAN_FRAG_THRESHOLD_MAX=2346,WLAN_FRAG_THRESHOLD_MIN=256,WLAN_FRAG_THRESHOLD_DEF=2346,WLAN_BINTVAL_MAX=1e3,WLAN_BINTVAL_MIN=40,WLAN_BINTVAL_DEF=100,WLAN_ADV_TX_POWER_MIN=0,WLAN_ADV_TX_POWER_HIGH=1,WLAN_ADV_TX_POWER_MEDIUM=2,WLAN_ADV_TX_POWER_LOW=3,WLAN_ADV_TX_POWER_MAX=4,WLAN_DTIM_MAX=255,WLAN_DTIM_MIN=1,WLAN_DTIM_DEF=1,WLAN_WDS_AUTH_MIN=0,WLAN_WDS_AUTH_NONE=1,WLAN_WDS_AUTH_WEP_ASCII=2,WLAN_WDS_AUTH_WEP_HEX=3,WLAN_WDS_AUTH_PSK2_AES=4,WLAN_WDS_AUTH_PSK_AES=5,WLAN_WDS_AUTH_PSK2_TKIP=6,WLAN_WDS_AUTH_PSK_TKIP=7,WLAN_WDS_AUTH_MAX=8,WLAN_ADV_DETECT_AUTO=0,WLAN_ADV_DETECT_3ADDR=1,WLAN_ADV_DETECT_4ADDR=2,UNIT_MAIN=0,UNIT_GUESTNETWORK=1,UNIT_APC=2,UNIT_MAX=3,WLAN_RADIUS_PORT_DEFAULT=1812,WLAN_WEP_HEX=0,WLAN_WEP_ASCII=1,WLAN_PRIVACY_MODE_MIN=0,WLAN_PRIVACY_MODE_WEP=1,WLAN_PRIVACY_MODE_WPA_WPA2=2,WLAN_PRIVACY_MODE_PSK_PSK2=3,WLAN_PRIVACY_MODE_WPA3=4,WLAN_PRIVACY_MODE_PSK2_PSK3=5,WLAN_PRIVACY_MODE_MAX=6,WLAN_SECURITY_OPTION_WEP_MIN=0,WLAN_SECURITY_OPTION_WEP_OPEN=1,WLAN_SECURITY_OPTION_WEP_SHARE=2,WLAN_SECURITY_OPTION_WEP_AUTO=3,WLAN_SECURITY_OPTION_WEP_MAX=4,WLAN_SECURITY_OPTION_MIN=0,WLAN_SECURITY_OPTION_WPA=1,WLAN_SECURITY_OPTION_WPA2=2,WLAN_SECURITY_OPTION_AUTO=3,WLAN_SECURITY_OPTION_WPA3=4,WLAN_SECURITY_OPTION_MAX=5,WLAN_ENCRYPT_TYPE_MIN=0,WLAN_ENCRYPT_TYPE_AUTO=1,WLAN_ENCRYPT_TYPE_TKIP=2,WLAN_ENCRYPT_TYPE_AES=3,WLAN_ENCRYPT_TYPE_MAX=4,WLAN_SECURITY_OPTION_OPEN=1,WLAN_SECURITY_OPTION_PSK=1,WLAN_SECURITY_OPTION_SHARE=2,WLAN_SECURITY_OPTION_PSK2=2,IPTV_MODE_DISABLED=0,IPTV_MODE_BRIDGE=1,IPTV_MODE_8021Q=2,IPTV_MODE_RU=3,IPTV_MODE_SG_SINGTEL=4,IPTV_MODE_MY_UNIFI=5,IPTV_MODE_MY_MAXIS1=6,IPTV_MODE_MY_MAXIS2=7,IPTV_MODE_VN_VIETTEL=8,IPTV_MODE_PT_MEO=9,IPTV_MODE_PT_VODAFONE=10,IPTV_MODE_AU_NBN=11,IPTV_MODE_NZ_UFB=12,IPTV_MODE_CUSTOM=13,IPTV_MODE_MY_CELCOM=14,IPTV_MODE_TH_AIS=15,IPTV_MODE_DE_DT_DEFAULT=16,IPTV_MODE_DE_DT_VLAN8=17,IPTV_MODE_US_CENTURYLINK=18,IPTV_MODE_BRIDGE_KT=19,IPTV_MODE_BRIDGE_SKT=20,IPTV_MODE_BRIDGE_LG=21,IPTV_MODE_END=12,IPTV_SERVICE_INTERNET=0,IPTV_SERVICE_IPTV=1,IPTV_SERVICE_VOIP=2,IPTV_SERVICE_MULTICAST=3,IPTV_SERVICE_BRIDGE=4,PPTP_DEMAND=0,PPTP_AUTO=1,PPTP_TIMEING=2,PPTP_MANUAL=3,PPTP_LINK_TYPE_MAX=4,L2TP_DEMAND=0,L2TP_AUTO=1,L2TP_TIMING=2,L2TP_MANUAL=3,L2TP_LINK_TYPE_NUM=4,DDNS_STATE_NOT_LAUNCH=0,DDNS_STATE_START=1,DDNS_STATE_SEND_DNS_QUERY=2,DDNS_STATE_READ_DNS_RESPONSE=3,DDNS_STATE_TCP_CONNECTION=4,DDNS_STATE_SEND_HTTP_REQUEST=5,DDNS_STATE_READ_HTTP_REPLY=6,DDNS_STATE_SUCCESS_GOOD=7,DDNS_STATE_SUCCESS_NOCHG=8,DDNS_STATE_FAIL_NOHOST=9,DDNS_STATE_FAIL_BADAUTH=10,DDNS_STATE_FAIL_BADAGENT=11,DDNS_STATE_FAIL_NOT_DONATOR=12,DDNS_STATE_FAIL_ABUSE=13,DDNS_STATE_FAIL_911=14,DDNS_STATE_FAIL_NOTFQDN=15,DDNS_STATE_FAIL_NUMHOST=16,DDNS_STATE_FAIL_DNSERR=17,DDNS_STATE_FAIL_CONNECT_ERROR=18,DDNS_STATE_FAIL_UNKNOWN=19,IPV6_MODE_DISABLE=0,IPV6_MODE_ROUTER=1,IPV6_MODE_PASSTHROUGH=2,REBOOT_SCHE_EVERYDAY=0,REBOOT_SCHE_EVERYWEEK=1,REBOOT_SCHE_EVERYMONTH=2,PHY_INDEX_LAN1=0,PHY_INDEX_LAN2=1,PHY_INDEX_LAN3=2,PHY_INDEX_LAN4=3,PHY_INDEX_WAN=4,PHY_INDEX_CPU=5,PHY_INDEX_INVALID=6,LINK_MODE_AUTO=0,LINK_MODE_10MF=1,LINK_MODE_10MH=2,LINK_MODE_100MF=3,LINK_MODE_100MH=4,LINK_MODE_1000MF=5,LINK_MODE_1000MH=6,LINK_MODE_END=7,ENONE=0,ENOMEMORY=1,EINVARG=2,EINVFMT=3,EINVEVT=4,EINVCODE=5,EFORBID=6,EUNAUTH=7,EOVERFLOW=8,EINVINSTRUCT=9,EMD5=10,EDESENCODE=11,EDESDECODE=12,ECHIPID=13,EFLASHID=14,EPRODID=15,ELANGID=16,ESUBVER=17,EOEMID=18,ECOUNTRYID=19,ECODE=20,EWANTYPE=21,ETOOLONG=22,ESYSTEM=23,ENOECHO=24,ENODEVICE=25,EINVIP=26,EINVMASK=27,EINVGTW=28,EINVIPMASKPAIR=29,EGTWUNREACH=30,EINVMTU=31,EINVMACFMT=32,EENTRYEXIST=33,EENTRYNOTEXIST=34,EENTRYCONFLIC=35,ETABLEFULL=36,ETABLEEMPTY=37,EINVPORT=38,EPORTRESERVED=39,EINVPTC=40,ECOMFLICTNET=41,EINVNET=42,EINVTYPE=43,EINVMODE=44,EINVTIME=45,EINVFDNSVR=46,EINVSDNSVR=47,EINVDATA=48,EINVLEASETIME=49,EINVADDRPOOL=50,EINVDATE=51,EINVTIMEZONE=52,ENOLINK=53,ESYSBUSY=54,EINVNUM=55,EINVSIZE=56,EINVTIMEOUT=57,EINVMETRIC=58,EINVINTERVAL=59,EINVBOOL=69,EINVSSIDLEN=70,EINVSECAUTH=71,EINVWEPAUTH=72,EINVRADIUSAUTH=73,EINVPSKAUTH=74,EINVCIPHER=75,EINVRADIUSLEN=76,EINVPSKLEN=77,EINVGKUPINTVAL=78,EINVWEPKEYTYPE=79,EINVWEPKEYIDX=80,EINVWEPKEYLEN=81,EINVACLDESCLEN=82,EINVWPSPINLEN=83,EINVAPMODE=84,EINVWLSMODE=85,EINVREGIONIDX=86,EINVCHANWIDTH=87,EINVRTSTHRSHLD=88,EINVFRAGTHRSHLD=89,EINVBCNINTVL=90,EINVTXPWR=91,EINVDTIMINTVL=92,EINVWDSAUTH=93,EINVA34DETECT=94,EINVWLANPWD=95,EINVHOSTNAMELEN=96,EINVGETIMEOUT=97,EINVGETIMEMODE=98,EINVMACGROUP=99,ENAMEBLANK=100,EPWDBLANK=101,EINVMACZERO=102,EINVMACBROAD=103,EHOSTNAMEEMP=104,EOBJNAMEEMP=105,EPLANNAMEEMP=106,EOBJDOMAINALLEMP=107,EREFERED=108,EDELPARTIAL=109,EDELNOTHING=110,ERSACHECK=111,EINVLGPWDLEN=112,EINLGVALCHAR=113,EINLGVALOLDSAME=114,EINVNETID=115,EINVHOSTID=116,EOUTOFRANGE=117,EINDOMAIN=118,ELACKCFGINFO=119,EINVKEY=120,EINVRMTPORT=121,EILLEGALPORT=122,EINVNAMELEN=123,EINVPWDLEN=124,EINVNAME=125,ENOTLANSUBNET=126,EHOSTALLEMPTY=127,EOBJALLEMPTY=128,EINVGROUPIP=129,EINVLOOPIP=130,EINVIPFMT=131,ENOTLANWANNET=132,ELANSUBNET=133,EINVPWD=134,EIPRESERVED=135,EINVPORTFMT=136,EADDRPOOLNOTLANSUBNET=137,ERULECONFLICT=138,EINVTIMETYPE=139,EINDATE=140,EIPMACCONFLIC=141,EDHCPRESERVECONFLIC=142,EIPDNSCONFLICT=143,CLOUD_DDNS_DEFUALT=0,CLOUD_DDNS_QUERY_ING=1,CLOUD_DDNS_QUERY_SUCC=2,CLOUD_DDNS_REG_ING=3,CLOUD_DDNS_REG_SUCC=4,CLOUD_DDNS_BIND_ING=5,CLOUD_DDNS_BIND_SUCC=6,CLOUD_DDNS_UNBIND_ING=7,CLOUD_DDNS_UNBIND_SUCC=8,CLOUD_DDNS_DEL_ING=9,CLOUD_DDNS_DEL_SUCC=10,CLOUD_DDNS_PARAM_FAILED=2e4,CLOUD_DDNS_REGISTERED_FAILED=20001,CLOUD_DDNS_TIMEOUT=20002,CLOUD_DDNS_BIND_TOO_MANY_FAILED=20003,CLOUD_DDNS_BOUND_FAILED=20004,CLOUD_DDNS_SYS_FAILED=20005,CLOUD_DDNS_FORBIDDED_FAILED=20006,CLOUD_DDNS_NOT_EXIST_FAILED=20007,CLOUD_DDNS_REG_TOO_MANY_FAILED=20008,STA_STATE_DOWN=0,STA_STATE_IDLE=1,STA_STATE_SCAN=2,STA_STATE_AUTH=3,STA_STATE_ASSOC=4,STA_STATE_RUN=5,YEAR_FIRST_TYPE=0,DAY_FIRST_TYPE=1,IGMP_PROXY_VERSION_2=0,IGMP_PROXY_VERSION_3=1,CWMP_BIND_IFACE_WAN=0,CWMP_BIND_IFACE_LAN=1,CWMP_BIND_IFACE_END=2,CWMP_LOCAL_NO_AUTH=0,CWMP_LOCAL_BASIC_AUTH=1,CWMP_LOCAL_DIGEST_AUTH=2,CWMP_DATA_MODEL_START=0,CWMP_DATA_MODEL_TR098=1,CWMP_DATA_MODEL_TR181=2,CWMP_DATA_MODEL_END=3,DEVICE_DATA_ID=0,SYSTEM_DATA_ID=1,SYSTEM_LOG_DATA_ID=2,EXCEPT_LOG_DATA_ID=3,LAN_DATA_ID=4,LCLPORT_DATA_ID=5,LCLHOST_DATA_ID=6,RMTHOST_DATA_ID=7,DHCPS_DATA_ID=8,DHCPS_LEASE_DATA_ID=9,TPDOMAIN_DATA_ID=10,FACTORY_DATA_ID=11,STACTRLTBL_DATA_ID=12,STARTTABLE_DATA_ID=13,STATIC_ROUTE_DATA_ID=14,DYNAMIC_ROUTE_DATA_ID=15,SYSTEM_ROUTE_DATA_ID=16,NAPT_ALG_DATA_ID=17,NAPT_DMZ_DATA_ID=18,NAPT_IGD_DATA_ID=19,NAPT_IGD_MAPPING_DATA_ID=20,NAPT_VSERVER_DATA_ID=21,LINK_DATA_ID=22,LINK_STATUS_DATA_ID=23,STATIC_IP_DATA_ID=24,DHCPC_DATA_ID=25,PPPOE_DATA_ID=26,PPPOE_LASTDIAL_DATA_ID=27,SNTPC_CONFIG_DATA_ID=28,SNTPC_TIME_DATA_ID=29,PARENT_CTL_DATA_ID=30,BEHAVMANG_CONFIG_DATA_ID=31,WLAN_BASIC_DATA_ID=32,MBSSID_MAIN_DATA_ID=33,WLAN_AP_LIST_DATA_ID=34,IPTV_DATA_ID=35,PPTP_DATA_ID=36,L2TP_DATA_ID=37,DDNS_DATA_ID=38,DDNS_STATUS_DATA_ID=39,IPV6_MODE_DATA_ID=40,IPV6_WAN_INTERFACE_DATA_ID=41,IPV6_WAN_ADDR_DATA_ID=42,IPV6_WAN_DNS_DATA_ID=43,IPV6_PPPOE_DATA_ID=44,IPV6_WAN_STATUS_DATA_ID=45,IPV6_PREFIX_DELEGATION_DATA_ID=46,IPV6_LAN_PREFIX_DATA_ID=47,IPV6_LAN_STATUS_DATA_ID=48,MANUFACTURE_MODE_DATA_ID=49,LANGUAGE_DATA_ID=50,REBOOT_SCHE_DATA_ID=51,LED_SCHE_DATA_ID=52,WLAN_SCHEDULE_DATA_ID=53,SMART_CONNECT_DATA_ID=54,PARENT_CTL_V2_DATA_ID=55,QOS_DATA_ID=56,HW_NAT_DATA_ID=57,ACCESS_CONTROL_SWITCH_DATA_ID=58,PORT_TRIGGER_DATA_ID=59,ETHERNET_INFO_DATA_ID=60,MCB_POOL_DESC_DATA_ID=61,PING_RESPONSE_DATA_ID=62,SPI_FIREWALL_DATA_ID=63,LED_CTR_DATA_ID=64,CLOUD_BASIC_DATA_ID=65,CLOUD_FW_UPGRADE_DATA_ID=66,CLOUD_OWNER_DATA_ID=67,CLOUD_CURRENT_USER_CFG_DATA_ID=68,CLOUD_DDNS_DATA_ID=69,CLOUD_CURRENT_USER_DATA_ID=70,CLOUD_SVR_CONFIG_DATA_ID=71,ACCESS_CONTROL_WHITE_LIST_DATA_ID=72,ACCESS_CONTROL_BlACK_LIST_DATA_ID=73,COMMONERR_DATA_ID=74,WDS_STATUS_DATA_ID=75,WEB_COMMAND_DATA_ID=76,MODE_COMMON_DATA_ID=77,WEB_SWITCH_DATA_ID=85,ISPPRESET_DATA_ID=86,ISP_RUNTIMEDATA_DATA_ID=87,YANG_DEX_DNS_DATA_ID=88,MULTI_COUNTRY_CODE_DATA_ID=89,IGMP_SNOOPING_DATA_ID=90,CWMP_CONFIG_DATA_ID=91,CLOUD_LOGIN_CHECK_ID=97,WEB_SWITCH_ON=1,WEB_SWITCH_OFF=0;function DataBlock(){this.DEVICE_1_0_0={id:DEVICE_DATA_ID,layers:[1,0,0],fullName:"",facturer:"",modelName:"",modelVer:"",softVer:"",hardVer:"",prodId:"",specialId:"",countryCode:"",mainVer:"",minorVer:"",oemId:"",deviceId:"",hardwareId:"",firmwareId:"",oem_id:"",facturerType:""},this.SYSTEM_1_0_0={id:SYSTEM_DATA_ID,layers:[1,0,0],authKey:"",reserved:"",setWzd:"",mode:"",logLevel:"",fastpath:"",mac:[],wanMacType:""},this.SYSTEM_LOG_1_0_0={id:SYSTEM_LOG_DATA_ID,layers:[1,0,0],num:"",list:[{level:"",days:"",hours:"",mins:"",secs:"",msecs:"",msg:""}]},this.EXCEPT_LOG_1_0_0={id:EXCEPT_LOG_DATA_ID,layers:[1,0,0],num:"",list:[{msg:""}]},this.LAN_1_0_0={id:LAN_DATA_ID,layers:[1,0,0],ip:"",mask:"",mode:"",smartIp:"",gateway:""},this.LCLPORT_1_0_0={id:LCLPORT_DATA_ID,layers:[1,0,0],port:"",reserved:""},this.LCLHOST_1_0_0={id:LCLHOST_DATA_ID,layers:[1,0,0],enableAll:"",mac:[],list:[{desc:""}]},this.RMTHOST_1_0_0={id:RMTHOST_DATA_ID,layers:[1,0,0],port:"",rule:"",addr:""},this.DHCPS_1_0_0={id:DHCPS_DATA_ID,layers:[1,0,0],enable:"",poolStart:"",poolEnd:"",leaseTime:"",dns:[],gateway:"",hostName:""},this.DHCPS_LEASE_1_0_0={id:DHCPS_LEASE_DATA_ID,layers:[1,0,0],list:[{hostName:"",mac:"",reserved:"",state:"",ip:"",expires:""}]},this.TPDOMAIN_1_0_0={id:TPDOMAIN_DATA_ID,layers:[1,0,0],enable:"",name:""},this.FACTORY_1_0_0={id:FACTORY_DATA_ID,layers:[1,0,0],lanIp:"",lanMask:"",authKey:"",reserved:""},this.STACTRLTBL_1_0_0={id:STACTRLTBL_DATA_ID,layers:[1,0,0],list:[{ip:"",mac:"",reserved:"",bindEntry:"",staMgtEntry:"",name:"",reserved_name:"",blocked:"",upLimit:"",downLimit:"",qosEntry:"",priTime:"",dhcpsEntry:"",dhcpsEnable:""}],disable:""},this.STARTTABLE_1_0_0={id:STARTTABLE_DATA_ID,layers:[1,0,0],list:[{ip:"",mac:"",reserved:"",bindEntry:"",staMgtEntry:"",type:"",online:"",blocked:"",up:"",down:"",upLimit:"",downLimit:"",name:"",reserved_name:"",qosPrior:"",priTime:"",leaseTime:"",totalVal:"",totalUnit:"",dhcpsEntry:""}]},this.STATIC_ROUTE_1_0_0={id:STATIC_ROUTE_DATA_ID,layers:[1,0,0],list:[{enable:"",net:"",mask:"",gateway:"",netif:"",desc:""}]},this.DYNAMIC_ROUTE_1_0_0={id:DYNAMIC_ROUTE_DATA_ID,layers:[1,0,0],list:[{net:"",mask:"",gateway:""}]},this.SYSTEM_ROUTE_1_0_0={id:SYSTEM_ROUTE_DATA_ID,layers:[1,0,0],list:[{net:"",gateway:"",mask:"",netif:""}]},this.NAPT_ALG_1_0_0={id:NAPT_ALG_DATA_ID,layers:[1,0,0],ftpAlgEnable:"",pptpAlgEnable:"",rtspAlgEnable:"",sipAlgEnable:"",ipsecAlgEnable:"",h323AlgEnable:"",natEnable:"",tftpAlgEnable:"",l2tpAlgEnable:""},this.NAPT_DMZ_1_0_0={id:NAPT_DMZ_DATA_ID,layers:[1,0,0],dmzEnable:"",dmzClient:"",state:"",macAddr:""},this.NAPT_IGD_1_0_0={id:NAPT_IGD_DATA_ID,layers:[1,0,0],igdEnable:""},this.NAPT_IGD_MAPPING_1_0_0={id:NAPT_IGD_MAPPING_DATA_ID,layers:[1,0,0],num:"",list:[{extPort:"",intPort:"",ptc:"",enabled:"",leaseDuration:"",leaseTimer:"",rmtHost:"",client:"",desc:""}]},this.NAPT_VSERVER_1_0_0={id:NAPT_VSERVER_DATA_ID,layers:[1,0,0],list:[{vsEntryEnable:"",vsLclIp:"",vsRmtIp:"",vsLclPort:"",vsRmtPort:"",vsOpenPortS:"",vsOpenPortE:"",vsPtc:"",vsServerName:""}]},this.LINK_1_0_0={id:LINK_DATA_ID,layers:[1,0,0],enable:"",wirelessWanNoUsed:"",linkMode:"",linkType:""},this.LINK_STATUS_1_0_0={id:LINK_STATUS_DATA_ID,layers:[1,0,0],ip:"",mask:"",gateway:"",dns:[],status:"",code:"",upTime:"",inPkts:"",inOctets:"",outPkts:"",outOctets:"",inRates:"",outRates:"",dualMode:"",dualIp:"",dualMask:"",dualGateway:"",dualDns:[],dualCode:"",dualStatus:"",internetDnsDetect:""},this.STATIC_IP_1_0_0={id:STATIC_IP_DATA_ID,layers:[1,0,0],ip:"",mask:"",gateway:"",dns:[],mtu:""},this.DHCPC_1_0_0={id:DHCPC_DATA_ID,layers:[1,0,0],name:"",dns:[],mtu:"",ucast:"",manualDns:"",lastIp:""},this.PPPOE_1_0_0={id:PPPOE_DATA_ID,layers:[1,0,0],svName:"",acName:"",name:"",paswd:"",fixipEnb:"",fixip:"",manualDns:"",dns:[],lcpMru:"",linkType:"",dialMode:"",maxIdleTime:"",sndConnType:"",staticSndIp:"",staticSndMask:"",start_hour:"",start_minute:"",end_hour:"",end_minute:"",detectOnlineTime:""},this.PPPOE_LASTDIAL_1_0_0={id:PPPOE_LASTDIAL_DATA_ID,layers:[1,0,0],acMac:"",reserved:"",sessionid:"",dialMode:"",ncTimes:""},this.SNTPC_CONFIG_1_0_0={id:SNTPC_CONFIG_DATA_ID,layers:[1,0,0],timeZoneIndex:"",timeZone:"",timeType:"",timedisplay:"",ntpaddr1:"",ntpaddr2:"",timeDST:"",startMonth:"",startNumWeek:"",startWeekDay:"",startHour:"",endMonth:"",endNumWeek:"",endWeekDay:"",endHour:"",rangeDST:""},this.SNTPC_TIME_1_0_0={id:SNTPC_TIME_DATA_ID,layers:[1,0,0],year:"",month:"",day:"",hour:"",minute:"",second:"",sntpcSuccess:""},this.PARENT_CTL_1_0_0={id:PARENT_CTL_DATA_ID,layers:[1,0,0],enable:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:"",list:[{mac:"",reserved:""}]},this.BEHAVMANG_CONFIG_1_0_0={id:BEHAVMANG_CONFIG_DATA_ID,layers:[1,0,0],bhavEnable:"",bhavRule:"",rList:[{rName:"",rActive:"",rHost:"",rTarget:"",rSchedule:"",rReserved:""}],hList:[{hIsIp:"",hName:"",hIpStart:"",hIpEnd:"",hMac:"",hReserved:""}],tList:[{tType:"",tName:"",tIpStart:"",tIpEnd:"",tPortStart:"",tPortEnd:"",tProto:"",tUrl0:"",tUrl1:"",tUrl2:"",tUrl3:""}],sList:[{sName:"",sActive:"",sMon:"",sTue:"",sWed:"",sThu:"",sFri:"",sSat:"",sSun:""}]},this.WLAN_BASIC_1_0_0={id:WLAN_BASIC_DATA_ID,layers:[1,0,0],uBand:"",bEnabled:"",uApMode:"",uRegionIndex:"",uChannel:"",uBgnMode:"",uChannelWidth:"",adv:{uRTSThreshold:"",uFragThreashold:"",uBeaconInterval:"",uPower:"",uDTIMInterval:"",bWMEEnabled:"",bIsolationEnabled:"",bShortPrmbleDisabled:"",bShortGI:""},apc:{bBridgeEnabled:"",cBridgedSsid:"",cBridgedBssid:"",uWepIndex:"",uSecurityType:"",cPassWD:"",uDetect:"",bLockToAp:""},guest:{bLanAccess:"",bGuestIsolated:"",uDuration:"",bSetOpenTime:"",uMaxUploadSpeed:"",uMaxDownloadSpeed:"",uAllowTimeMode:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""},bTurboOn:"",bMumimo:"",bAtf:"",currentCountryName:""},this.WLAN_BASIC_2_0_0={id:WLAN_BASIC_DATA_ID,layers:[2,0,0],uBand:"",bEnabled:"",uApMode:"",uRegionIndex:"",uChannel:"",uBgnMode:"",uChannelWidth:"",adv:{uRTSThreshold:"",uFragThreashold:"",uBeaconInterval:"",uPower:"",uDTIMInterval:"",bWMEEnabled:"",bIsolationEnabled:"",bShortPrmbleDisabled:"",bShortGI:""},apc:{bBridgeEnabled:"",cBridgedSsid:"",cBridgedBssid:"",uWepIndex:"",uSecurityType:"",cPassWD:"",uDetect:"",bLockToAp:""},guest:{bLanAccess:"",bGuestIsolated:"",uDuration:"",bSetOpenTime:"",uMaxUploadSpeed:"",uMaxDownloadSpeed:"",uAllowTimeMode:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""},bTurboOn:"",bMumimo:"",bAtf:"",currentCountryName:""},this.MBSSID_MAIN_1_1_0={id:MBSSID_MAIN_DATA_ID,layers:[1,1,0],uUnit:"",cSsidPrefix:"",uRadiusIp:"",uRadiusGKUpdateIntvl:"",uPskGKUpdateIntvl:"",privacyRcd:[{uKeyLength:"",cKeyVal:""}],uRadiusPort:"",uKeyType:"",uDefaultKey:"",bEnable:"",bBcastSsid:"",cSsid:"",bSecurityEnable:"",uAuthType:"",uWEPSecOpt:"",uRadiusSecOpt:"",uPSKSecOpt:"",uRadiusEncryptType:"",uPSKEncryptType:"",cRadiusSecret:"",cPskSecret:"",bSecCheck:"",wps:{bEnabled:"",cUsrPIN:"",bConfigured:"",bIsLocked:"",bEnRtPIN:""},bWifiBtnRecEnable:""},this.MBSSID_MAIN_1_2_0={id:MBSSID_MAIN_DATA_ID,layers:[1,2,0],uUnit:"",cSsidPrefix:"",uRadiusIp:"",uRadiusGKUpdateIntvl:"",uPskGKUpdateIntvl:"",privacyRcd:[{uKeyLength:"",cKeyVal:""}],uRadiusPort:"",uKeyType:"",uDefaultKey:"",bEnable:"",bBcastSsid:"",cSsid:"",bSecurityEnable:"",uAuthType:"",uWEPSecOpt:"",uRadiusSecOpt:"",uPSKSecOpt:"",uRadiusEncryptType:"",uPSKEncryptType:"",cRadiusSecret:"",cPskSecret:"",bSecCheck:"",wps:{bEnabled:"",cUsrPIN:"",bConfigured:"",bIsLocked:"",bEnRtPIN:""},bWifiBtnRecEnable:""},this.MBSSID_MAIN_2_1_0={id:MBSSID_MAIN_DATA_ID,layers:[2,1,0],uUnit:"",cSsidPrefix:"",uRadiusIp:"",uRadiusGKUpdateIntvl:"",uPskGKUpdateIntvl:"",privacyRcd:[{uKeyLength:"",cKeyVal:""}],uRadiusPort:"",uKeyType:"",uDefaultKey:"",bEnable:"",bBcastSsid:"",cSsid:"",bSecurityEnable:"",uAuthType:"",uWEPSecOpt:"",uRadiusSecOpt:"",uPSKSecOpt:"",uRadiusEncryptType:"",uPSKEncryptType:"",cRadiusSecret:"",cPskSecret:"",bSecCheck:"",wps:{bEnabled:"",cUsrPIN:"",bConfigured:"",bIsLocked:"",bEnRtPIN:""},bWifiBtnRecEnable:""},this.MBSSID_MAIN_2_2_0={id:MBSSID_MAIN_DATA_ID,layers:[2,2,0],uUnit:"",cSsidPrefix:"",uRadiusIp:"",uRadiusGKUpdateIntvl:"",uPskGKUpdateIntvl:"",privacyRcd:[{uKeyLength:"",cKeyVal:""}],uRadiusPort:"",uKeyType:"",uDefaultKey:"",bEnable:"",bBcastSsid:"",cSsid:"",bSecurityEnable:"",uAuthType:"",uWEPSecOpt:"",uRadiusSecOpt:"",uPSKSecOpt:"",uRadiusEncryptType:"",uPSKEncryptType:"",cRadiusSecret:"",cPskSecret:"",bSecCheck:"",wps:{bEnabled:"",cUsrPIN:"",bConfigured:"",bIsLocked:"",bEnRtPIN:""},bWifiBtnRecEnable:""},this.WLAN_AP_LIST_1_0_0={id:WLAN_AP_LIST_DATA_ID,layers:[1,0,0],apEntry:[{cBssid:"",cSsid:"",uRssi:"",uChannel:"",uAuthMode:"",uBgnMode:"",uChanWidth:""}],uApCnt:"",reserved:""},this.IPTV_1_0_0={id:IPTV_DATA_ID,layers:[1,0,0],uMode:"",uBridgePorts:"",uService:[{uVid:"",uVlanPriority:"",uMemberPorts:"",bTagEnable:"",uServiceType:""}]},this.PPTP_1_0_0={id:PPTP_DATA_ID,layers:[1,0,0],userName:"",passwd:"",domainIp:"",bDhcp:"",ip:"",mask:"",gateway:"",dns:[],mtu:"",linkType:"",maxIdleTime:""},this.L2TP_1_0_0={id:L2TP_DATA_ID,layers:[1,0,0],userName:"",passwd:"",domainIp:"",bDhcp:"",ip:"",mask:"",gateway:"",dns:[],mtu:"",linkType:"",maxIdleTime:""},this.DDNS_1_0_0={id:DDNS_DATA_ID,layers:[1,0,0],mode:"",serviceList:[{enable:"",username:"",password:"",domainName:"",ip:"",status:"",wanIpBind:""}]},this.DDNS_STATUS_1_0_0={id:DDNS_STATUS_DATA_ID,layers:[1,0,0],status:[]},this.IPV6_MODE_1_0_0={id:IPV6_MODE_DATA_ID,layers:[1,0,0],mode:""},this.IPV6_WAN_INTERFACE_1_0_0={id:IPV6_WAN_INTERFACE_DATA_ID,layers:[1,0,0],interfaceType:"",ipGetMethod:""},this.IPV6_WAN_ADDR_1_0_0={id:IPV6_WAN_ADDR_DATA_ID,layers:[1,0,0],wanIp:"",wanPrefixLen:"",gateway:""},this.IPV6_WAN_DNS_1_0_0={id:IPV6_WAN_DNS_DATA_ID,layers:[1,0,0],dnsGetMethod:"",dns:[]},this.IPV6_PPPOE_1_0_0={id:IPV6_PPPOE_DATA_ID,layers:[1,0,0],shareSession:"",username:"",password:""},this.IPV6_WAN_STATUS_1_0_0={id:IPV6_WAN_STATUS_DATA_ID,layers:[1,0,0],status:"",errorCode:"",interfaceType:"",ipGetMethod:"",raReceived:"",getIpWithDhcp:"",getDnsWithDhcp:"",globalIp:"",prefixAddr:"",prefixLen:"",gateway:"",dns:[],linkLocalIp:""},this.IPV6_PREFIX_DELEGATION_1_0_0={id:IPV6_PREFIX_DELEGATION_DATA_ID,layers:[1,0,0],enable:""},this.IPV6_LAN_PREFIX_1_0_0={id:IPV6_LAN_PREFIX_DATA_ID,layers:[1,0,0],prefixAddr:"",prefixLen:""},this.IPV6_LAN_STATUS_1_0_0={id:IPV6_LAN_STATUS_DATA_ID,layers:[1,0,0],linkLocalIp:"",prefixAddr:"",prefixLen:""},this.MANUFACTURE_MODE_1_0_0={id:MANUFACTURE_MODE_DATA_ID,layers:[1,0,0],mode:""},this.LANGUAGE_1_0_0={id:LANGUAGE_DATA_ID,layers:[1,0,0],currentLanguage:"",languageList:"",setByUser:""},this.REBOOT_SCHE_1_0_0={id:REBOOT_SCHE_DATA_ID,layers:[1,0,0],enable:"",hour:"",minute:"",repeat:"",date:""},this.LED_SCHE_1_0_0={id:LED_SCHE_DATA_ID,layers:[1,0,0],night_enable:"",start_hour:"",start_minute:"",end_hour:"",end_minute:""},this.WLAN_SCHEDULE_1_0_0={id:WLAN_SCHEDULE_DATA_ID,layers:[1,0,0],enable:"",schedule:[{start:"",end:"",day:""}]},this.SMART_CONNECT_1_0_0={id:SMART_CONNECT_DATA_ID,layers:[1,0,0],enable:""},this.PARENT_CTL_V2_1_0_0={id:PARENT_CTL_V2_DATA_ID,layers:[1,0,0],ruleList:[{rName:"",ruleId:"",block:"",enableWorkdayTimeLimit:"",enableWeekendTimeLimit:"",enableWorkdayBedTime:"",enableWeekendBedTime:"",workdayDailyTime:"",weekendDailyTime:"",workdayBedTimeBegin:"",workdayBedTimeEnd:"",weekendBedTimeBegin:"",weekendBedTimeEnd:"",website:""}],clientList:[{cName:"",reserved_cName:"",cOwnerId:"",cMac:"",cType:""}]},this.QOS_1_0_0={id:QOS_DATA_ID,layers:[1,0,0],enable:"",upBand:"",downBand:""},this.HW_NAT_1_0_0={id:HW_NAT_DATA_ID,layers:[1,0,0],enable:""},this.ACCESS_CONTROL_SWITCH_1_0_0={id:ACCESS_CONTROL_SWITCH_DATA_ID,layers:[1,0,0],ctrlEnable:"",isWhiteList:""},this.PORT_TRIGGER_1_0_0={id:PORT_TRIGGER_DATA_ID,layers:[1,0,0],triggerEnable:"",list:[{serviceName:"",reserved:"",triggerPort:"",protocol:"",externalPro:"",openPort:"",enable:"",hasBeenAdd:""}]},this.ETHERNET_INFO_1_0_0={id:ETHERNET_INFO_DATA_ID,layers:[1,0,0],list:[{alive:"",nameId:"",mode:""}]},this.PING_RESPONSE_1_0_0={id:PING_RESPONSE_DATA_ID,layers:[1,0,0],lanDisable:"",wanDisable:""},this.SPI_FIREWALL_1_0_0={id:SPI_FIREWALL_DATA_ID,layers:[1,0,0],spiEnable:""},this.LED_CTR_1_0_0={id:LED_CTR_DATA_ID,layers:[1,0,0],enable:""},this.CLOUD_BASIC_1_0_0={id:CLOUD_BASIC_DATA_ID,layers:[1,0,0],alias:"",legality:"",illegalType:"",tcspStatus:""},this.CLOUD_FW_UPGRADE_1_0_0={id:CLOUD_FW_UPGRADE_DATA_ID,layers:[1,0,0],type:"",version:"",releaseDate:"",releaseLog:"",url:"",start:"",status:"",progress:"",title:"",latestFlag:""},this.CLOUD_OWNER_1_0_0={id:CLOUD_OWNER_DATA_ID,layers:[1,0,0],email:"",passwd:"",needUnbind:""},this.CLOUD_CURRENT_USER_CFG_1_0_0={id:CLOUD_CURRENT_USER_CFG_DATA_ID,layers:[1,0,0],nickname:"",role:"",token:"",eWebURL:"",status:"",isBinded:"",logInCloud:"",needReconn:""},this.CLOUD_DDNS_1_0_0={id:CLOUD_DDNS_DATA_ID,layers:[1,0,0],enable:"",boundDomain:"",tmpDomainName:"",status:"",list:[{domainName:"",regDate:"",isBind:""}]},this.CLOUD_CURRENT_USER_1_0_0={id:CLOUD_CURRENT_USER_DATA_ID,layers:[1,0,0],curUserName:"",curUserPasswd:""},this.CLOUD_SVR_CONFIG_1_0_0={id:CLOUD_SVR_CONFIG_DATA_ID,layers:[1,0,0],cloudSefDomain:"",cloudSefPort:"",cloudSvrDefaultPort:"",cloudDefaultSvrDomain:"",cloudDefaultSvrPort:""},this.ACCESS_CONTROL_WHITE_LIST_1_0_0={id:ACCESS_CONTROL_WHITE_LIST_DATA_ID,layers:[1,0,0],whiteList:[{devName:"",reserved:"",mac:"",devType:""}]},this.ACCESS_CONTROL_BlACK_LIST_1_0_0={id:ACCESS_CONTROL_BlACK_LIST_DATA_ID,layers:[1,0,0],blackList:[{devName:"",reserved:"",mac:"",devType:""}]},this.COMMONERR_1_0_0={id:COMMONERR_DATA_ID,layers:[1,0,0],error:""},this.WDS_STATUS_1_0_0={id:WDS_STATUS_DATA_ID,layers:[1,0,0],status:""},this.WEB_COMMAND_1_0_0={id:WEB_COMMAND_DATA_ID,layers:[1,0,0],QsReboot:""},this.YANG_DEX_DNS_1_0_0={id:YANG_DEX_DNS_DATA_ID,layers:[1,0,0],state:"",type:"",list:[{mac:"",mode:"",name:""}]},this.CWMP_CONFIG_1_0_0={id:CWMP_CONFIG_DATA_ID,layers:[1,0,0],enable:"",acsURL:"",acsUsername:"",acsPassword:"",periodicInformEnable:"",periodicInformInterval:"",periodicInformTime:"",parameterKey:"",interfaceType:"",localPort:"",resevedForAlign:"",localPath:"",localUsername:"",localPassword:"",localAuthType:"",X_TP_Flag:"",eventCode:"",rbCommandKey:"",reseved1:"",siCommandKey:"",reseved2:"",dlCommandKey:"",reseved3:"",dlStartTime:"",dlCompleteTime:"",dlFaultCode:"",dataModelSpec:"",dataModelList:[{sepcName:"",isSupport:""}],dm:{ProvisioningCode:""}},this.MODE_COMMON_1_0_0={id:MODE_COMMON_DATA_ID,layers:[1,0,0],lanIp:"",routerLanIp:"",lanMask:""},this.WEB_SWITCH_1_0_0={id:WEB_SWITCH_DATA_ID,layers:[1,0,0],mumimoSupported2g:"",mumimoSupported5g:"",lanOrderMode:"",ru_Preinstall_ISP:"",yandexDNS:"",smartDMZ:"",WDS:"",igmpSnoop:"",igmpProxy:"",multiCountryCodeSwitch:"",timeFormatType:"",wifiSuppRate2g:"",wifiSuppRate5g:"",mutiLanguageEnable:"",rebootTime:"",cwmpSupport:"",NDProxy:"",KRfeatureEnable:"",sipAlgShowEnable:""},this.ISPPRESET_1_0_0={id:ISPPRESET_DATA_ID,layers:[1,0,0],authKey:"",reserved:"",option66Disable:""},this.ISP_RUNTIMEDATA_1_0_0={id:ISP_RUNTIMEDATA_DATA_ID,layers:[1,0,0],bIspReset:"",wUrlTimes:"",curTicks:""},this.MULTI_COUNTRY_CODE_1_0_0={id:MULTI_COUNTRY_CODE_DATA_ID,layers:[1,0,0],countryToDomainList:[{countryName:"",domainRegion:"",channelList2G:"",channelList5G:""}]},this.IGMP_SNOOPING_1_0_0={id:IGMP_SNOOPING_DATA_ID,layers:[1,0,0],enable:"",IgmpProxyEnable:"",IgmpVersion:""}}$.su.Navigator=function(){var t={},n={},e=function(e){this.settings=$.extend({},t,e),this.container=$(e.container),this.moduleContainerWidget=e.moduleContainerWidget||"panel",this.service=e.service,this.name="navigator",$.su.Service.call(this)};return $.su.inherit($.su.Service,e),e.prototype.setMenu=function(){},e.prototype.getMenu=function(){},e.prototype.getMenuList=function(){},e.prototype["goto"]=function(){},e.prototype.set=function(e){n=e},e.prototype.setContainer=function(e){this.container=$(e).htmlLoader()},e.prototype.load=function(e){var t=this.service.moduleLoader,i=this.service.loading,r=$.su.getObjectLength(n[e]);t.unLoad(this.container),t.load({module:"index"},{module:"page",view:e},this.container,function(){setTimeout(function(){i.hide(e)},0)},r)},e.prototype.destroy=function(){},e}(),function(l){l.su.App=function(){var t,i,r;l.ajax("./config/models.json?t=faca32f1",{async:!1,method:"GET",dataType:"json",success:function(e){t=l.extend({},e)}}),l.ajax("./config/modules.json?t=faca32f1",{async:!1,method:"GET",dataType:"json",success:function(e){i=e}}),l.ajax(l.su.settings.Loader.classesPath,{async:!1,method:"GET",dataType:"json",success:function(e){r=e}}),l.ajax("./config/src.js?t=faca32f1",{async:!1,method:"GET",dataType:"script"}),l.su.settings.navigatorUrl=[],l.su.settings.navigatorUrl[SYSTEM_MODE_ROUTER]="./config/navigator.json?t=faca32f1",l.su.settings.navigatorUrl[SYSTEM_MODE_AP]="./config/navigator.ap.json?t=faca32f1",l.su.settings.navigatorUrl[SYSTEM_MODE_RE]="./config/navigator.re.json?t=faca32f1",l.su.settings.navigatorUrl[SYSTEM_MODE_WISP]="./config/navigator.wisp.json?t=faca32f1";var e=function(e){this.override(),l.su.Application.call(this),this.loader=l.su.loader=new l.su.Loader,this.loader.setPath(r),this.classManager=l.su.ClassManager.getInstance(),this.classManager.setLoader(this.loader),new l.su.Services.Ajax({ajax:{contentType:"text/plain;charset=UTF-8",type:"POST"},failHandler:function(a){return function(e,t,i,r,n){a&&a(e,t,i,r,n)}},errorHandler:function(i){return function(e,t){i&&i(e,t)}}}),new l.su.Services.Vtype,new l.su.Services.Polling,new l.su.Services.ModuleManager,this.device=new l.su.Services.Device({service:{ajax:this.serviceManager.get("ajax"),loading:this.serviceManager.get("loading")}}),new l.su.Services.Time({service:{ajax:this.serviceManager.get("ajax")}}),new l.su.Services.Timer,this.moduleLoader=new l.su.Services.ModuleLoader,l.su.ModuleRouter=new l.su.Services.ModuleRouter({hashMap:[]}),this.language=new l.su.Services.LanguageService,this.router=l.su.router=new l.su.Router,this.router.setModelsPath(t),this.router.set(i)};return l.su.inherit(l.su.Application,e),e.prototype.init=function(){var e=l.Deferred(),t=[],i=l.Deferred();return t.push(i),l.su.isMobile()?l.su.loader.loadFile("./js/su/widget/widget.mobile.js",function(){i.resolve()}):i.resolve(),l.when.apply(this,t).done(function(){e.resolve()}),e.promise()},e.prototype.customWidget=function(){var e={errortip:{animate:function(e){var t=this.dom(),i=t.find("div.widget-error-tips-wrap"),r=t.find("div.error-tips-content"),n=t.closest(".html-loader-container"),a=t.closest(".msg-content-wrap"),s=0<n.length?n:0<a.length?a:l("#index-view-container"),o=s.offset(),_=s.width();"string"===l.type(e)&&r.text(e),t.addClass("show").show();var d=i.offset(),u=i.width();d.left-o.left+u>_&&i.css({"right":0})}}};for(var t in e)if(e.hasOwnProperty(t))for(var i in e[t])e[t].hasOwnProperty(i)&&l.fn[t]&&(l.fn[t][i]=e[t][i])},e.prototype.override=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),l.su.Error.handle=function(e){if(this.errorTolerance=this.errorTolerance||{},e.tolerance&&"number"==typeof e.tolerance){var t=this,i=e.cleanupTime||1e4;if(this.errorTolerance[e.type]=this.errorTolerance[e.type]||0,clearTimeout(this.errorTolerance[e.type+"timer"]),this.errorTolerance[e.type+"timer"]=setTimeout(function(){t.errorTolerance[e.type]=0},i),!(++this.errorTolerance[e.type]>e.tolerance))return console.warn(e),!0;clearTimeout(this.errorTolerance[e.type+"timer"]),this.errorTolerance[e.type]=0}switch(e.type){case"module_not_found":case"module_not_defined":return console&&console.log&&console.log("navigator error",e.module),!0;case"model_ajax_error":case"store_ajax_error":case"ajax_error":return void(e.errorCode="ajax_error");default:var r=e.errorCode,n=e.data,a=l.appUtils.errorToText(r,n);if(l.su.moduleManager.query("main")){var s=l.su.moduleManager.query("main");"ev_logout"==a?s.logout&&s.logout("reload"):s.showError&&s.showError(a)}return!0}},l.su.Model.combineSubmit=function(e){l.isArray(e)||(e=[e]);var t=l.Deferred(),n=function(e){return e.id+"|"+(e.layers||[1,0,0]).join(",")},a={},s=null;l.each(e,function(e,i){if(i instanceof l.su.Model||i instanceof l.su.ModelBind){var t=i.modelSerialize(i.getData("submit"));if(l.isArray(t))l.each(t,function(e,t){t=i.getProxy().addDataId(t),a[n(t)]=t});else{var r=(s=i.getProxy()).blocks;r=(l.isArray(r)?r[0]:r).toString().split("|"),t.id=r[0],t.layers=r[1]&&r[1].split(","),t=s.addDataId(t),a[n(t)]=t}}});var i=[];return l.each(a,function(e,t){i.push(t)}),null!==s?s.write({data:i,success:t.resolve,fail:t.reject,error:t.reject}):t.resolve(),t.promise()}},e.prototype.reset=function(){},e.prototype.reload=function(){},e.prototype.getInfo=function(){},e}(),l.appUtils=l.su.App.utils={numToCapacity:function(e,t){var i=e;t=t||3;return 1e15<=e?i=(i/1e15).toFixed(t)+l.su.CHAR.UNIT.PB:1e12<=e?i=(i/1e12).toFixed(t)+l.su.CHAR.UNIT.TB:1e9<=e?i=(i/1e9).toFixed(t)+l.su.CHAR.UNIT.GB:1e6<=e?i=(i/1e6).toFixed(t)+l.su.CHAR.UNIT.MB:1e3<=e&&(i=(i/1e3).toFixed(t)+l.su.CHAR.UNIT.KB),i},capacityToNum:function(e){e=e.replace("&nbsp;","").replace(" ","");var t=l.su.CHAR.UNIT.PB,i=l.su.CHAR.UNIT.TB,r=l.su.CHAR.UNIT.GB,n=l.su.CHAR.UNIT.MB,a=l.su.CHAR.UNIT.KB,s=l.su.CHAR.UNIT.B;return-1<e.indexOf(t)?1e3*e.split(t)[0]*1e3*1e3*1e3:-1<e.indexOf(i)?1e3*e.split(i)[0]*1e3*1e3*1e3:-1<e.indexOf(r)?1e3*e.split(r)[0]*1e3*1e3:-1<e.indexOf(n)?1e3*e.split(n)[0]*1e3:-1<e.indexOf(a)?1e3*e.split(a)[0]:-1<e.indexOf(s)?e.split(a)[0]:void 0},ipToInt:function(e){if(e){var t=e.split(".");return 4!=t.length?-1:/^\s*[0-9]{1,3}\.{1}[0-9]{1,3}\.{1}[0-9]{1,3}\.{1}[0-9]{1,3}\s*$/.test(e)?Number(t[0])*(1<<24)+(Number(t[1])<<16|Number(t[2])<<8|Number(t[3])):-1}},isSameNet:function(e,t,i){if(""==e)return!1;var r=l.appUtils.ipToInt,n=r(e),a=r(t),s=r(i);return 0!=s&&(n&s)==(a&s)},getLimitIp:function(e,t,i){for(var r=e.split("."),n=t.split("."),a=r.length,s=(n.length,[]),o=0;o<a;++o)if("min"==i)s.push(r[o]&n[o]);else{var _=parseInt(n[o]);_<128?s.push(r[o]|128+(~_-128<<24>>24)):s.push(r[o]|~_<<24>>24)}return s.join(".")},intToArray:function(e,t){e=parseInt(e);for(var i=[];0<e;)i.push(e%2),e=parseInt(e/2);if(i.length<t)for(var r=i.length,n=0;n<t-r;n++)i.push(0);return i},arrayToInt:function(e){for(var t=0,i=1;0<e.length;)t+=(e.shift()||0)*i,i*=2;return t},objectToArray:function(e){var t=[];for(var i in e)t[i]=e[i];return t},resetPortsValue:function(e,t){for(var i=l.appUtils.portSplit(e).split(","),r=l.appUtils.portSplit(t).split(","),n=0;n<i.length;n++){var a=r.indexOf(i[n]);0<=a&&r.splice(a,1)}return l.appUtils.portCombine(r.join(","))},keyHandler:function(e){return e.toString().replace(/[\/\.\:\s\(\)]/g,"_")},doLayout:function(){var e=l("#scroll-layer").height()-l(".bot").height();l("#main-con").css({minHeight:e})},errorToText:function(e,t){var i,r=l.su.CHAR.errStr;if(l.su.moduleManager.query("main"))switch(l.su.ModuleRouter.getCurrentPage()){case"IPMACBinding":switch(e){case EENTRYCONFLIC:i=l.su.CHAR.IP_MAC_BINDING.CONFLICT_WITH_RESERVATION}break;case"dhcpServerAdv":switch(e){case EENTRYCONFLIC:i=l.su.CHAR.IP_MAC_BINDING.CONFLICT_WITH_IP_MAC}break;case"portForwarding":switch(e){case EPORTRESERVED:i=(i=l.su.CHAR.PORT_FORWARDING.CONFLICT_WITH_EXISTING_PORT).replace("%num%",l.trim(t))}break;case"portTriggering":switch(e){case EPORTRESERVED:i=(i=l.su.CHAR.PORT_TRIGGERING.CONFLICT_WITH_EXISTING_PORT).replace("%num%",l.trim(t))}break;case"administration":switch(e){case EPORTRESERVED:i=l.su.CHAR.errStr.remotePortConflict}}if(!i)switch(e){case EFORBID:i=r.prohibit;break;case EINVARG:i=r.acIncompleteArg;break;case EOVERFLOW:i=r.invPortErr;break;case EINVINSTRUCT:i=r.instructErr;break;case ESYSTEM:i=r.systemErr;break;case EINVIP:i=r.ipAddrErr;break;case EINVMASK:i=r.maskErr;break;case EINVGTW:i=r.gatewayErr;break;case EINVIPMASKPAIR:i=r.ipAddrMaskNotMatch;break;case EGTWUNREACH:i=r.gatewayUnreachErr;break;case EINVMTU:i=r.pppoeMtuErr;break;case EINVMACFMT:i=r.macFmtErr;break;case EENTRYEXIST:i=r.entryExistErr;break;case EENTRYNOTEXIST:i=r.entryNoExistErr;break;case EENTRYCONFLIC:i=r.entryConflicErr;break;case ETABLEFULL:i=r.tableFullErr;break;case ETABLEEMPTY:i=r.tableEmptyErr;break;case EINVPORT:i=r.localPortErr;break;case EPORTRESERVED:i=r.portConflicErr;break;case EINVPTC:i=r.invProtoErr;break;case ECOMFLICTNET:i=r.ipAddrLanWanConflict;break;case EINVNET:i=r.ipAddrNetErr;break;case EINVTIME:i=r.pppoeOffTimeErr;break;case EINVFDNSVR:i=r.primDnsErr;break;case EINVSDNSVR:i=r.seDnsErr;break;case EINVLEASETIME:i=r.dhcpsLeaseErr;break;case EINVADDRPOOL:i=r.dhcpsAddrPoolErr;break;case ENOLINK:i=r.wanLinkDown;break;case EINVSSIDLEN:i=r.wlanSsidLenErr;break;case EINVPSKAUTH:i=r.wlanSecNotSupport;break;case EINVRADIUSLEN:case EINVPSKLEN:i=r.wlanPwdLenValid;break;case EINVWEPKEYLEN:i=r.wlanWepPwdLenValid;break;case EINVWLANPWD:i=r.wlanPwdInvalid;break;case EINVGETIMEOUT:i=r.guestNetSpeedInvalid;break;case EINVGETIMEMODE:i=r.guestNetTimeoutInvalid;break;case EINVMACGROUP:i=r.macGroupErr;break;case EPWDBLANK:i=r.wlanPwdNull;break;case EINVMACZERO:i=r.macZeroErr;break;case EINVMACBROAD:i=r.macBroadErr;break;case EHOSTNAMEEMP:i=r.hostNameEmpty;break;case EOBJNAMEEMP:i=r.objNameEmpty;break;case EPLANNAMEEMP:i=r.planNameEmpty;break;case EOBJDOMAINALLEMP:i=r.objDomainAllEmpErr;break;case EREFERED:i=r.acRefered;break;case EINVLGPWDLEN:i=r.lgPwdLenInvalid;break;case EINLGVALCHAR:i=r.pwdCharValid;break;case EINLGVALOLDSAME:i=r.pswNewOldSameErr;break;case EINVNETID:i=r.ipAddrNetIdErr;break;case EINVHOSTID:i=r.ipAddrHostIdErr;break;case EOUTOFRANGE:i=r.dhcpcHostNameErr;break;case EINDOMAIN:i=r.domainErr;break;case EINVKEY:i=r.pwdOldPwdErr;break;case EINVRMTPORT:i=r.remotePortErr;break;case EILLEGALPORT:i=r.portIllegalErr;break;case ENOTLANSUBNET:i=r.ipNotLanSubnet;break;case EHOSTALLEMPTY:i=r.acHostAllEmpty;break;case EOBJALLEMPTY:i=r.acObjAllEmpty;break;case EINVGROUPIP:errNote=r.ipAddrGroupErr;break;case EINVLOOPIP:i=r.ipAddrLoopErr;break;case EINVIPFMT:i=r.ipAddrFmtErr;break;case ENOTLANWANNET:i=r.ipAddrNotLanWanNetErr;break;case ELANSUBNET:i=r.ipLanSubnet;break;case EIPRESERVED:i=r.ipAddrReservedErr;break;case EINVPORTFMT:i=r.portIllegalFmtErr;break;case EADDRPOOLNOTLANSUBNET:i=r.dhcpsAddrPoolNetErr;break;case ERULECONFLICT:i=r.acruleConflict;break;case EIPMACCONFLIC:i=l.su.CHAR.NETWORK_DHCP.CONFLICT_WITH_IP_MAC;break;case EDHCPRESERVECONFLIC:i=l.su.CHAR.IP_MAC_BINDING.CONFLICT_WITH_RESERVATION;break;case EIPDNSCONFLICT:i=r.ipAddrLanDnsConflictShortNote;break;case EINVTIMETYPE:i=EINVTIMETYPE;break;case EINDATE:i=EINDATE;break;case"ajax_error":i=l.su.CHAR.errStr.noRespond;break;case EUNAUTH:i="ev_logout";break;default:i=r.unknown+e}return i},isSameMac:function(e,t){return"string"==typeof e&&"string"==typeof t&&l.trim(e.toLowerCase())===l.trim(t.toLowerCase())},signalLevel:function(e){return 20<=e?30<=e?50<=e?5:4:3:10<=e?2:1}}}(jQuery),function(){var i,e;$.su=$.su||{},$.su.Services=$.su.Services||{},$.su.Services.Device=(i={},e=function(e){var t=this;this.settings=$.extend({},i,e),this.settings.CONFIG_URL="./config/device.json?t=faca32f1",this.service=e.service,this.config={},$.ajax(this.settings.CONFIG_URL,{async:!1,method:"GET",dataType:"json",success:function(e){$.extend(t.config,e)}}),this.name="device",$.su.Service.call(this)},$.su.inherit($.su.Service,e),e.prototype.getConfig=function(){return this.config},e.prototype.getProductName=function(){var t=this;return this.config.deviceName||this.service.ajax.request({proxy:"deviceDataProxy",ajax:{async:!1},method:"read",success:function(e){t.config.deviceName=e.modelName}}),this.config.deviceName},e.prototype.getLocale=function(){return $.su.language.getLocale()},e.prototype.getForce=function(){return!1},e.prototype.getCurrentMode=function(){var t=this;return this.config.mode||this.service.ajax.request({proxy:"deviceModeProxy",ajax:{async:!1},method:"read",success:function(e){t.config.mode=e.mode}}),this.config.mode},e.prototype.getIsDualband=function(){var t=this;return this.config.isDualband===undefined&&this.service.ajax.request({ajax:{async:!1},url:this.config.settings.CONFIG_URL,success:function(e){t.config.isDualband=JSON.parse(e).isDualband}}),this.config.isDualband},e.prototype.switchMode=function(e,t){this.service.ajax.request({proxy:"switchModeProxy",method:"switchMode",data:{mode:e},success:function(e){t&&t()}})},e.prototype.getLanIptv=function(){return this.supportLanIptv},e.prototype.getHostMac=function(){var t=this;return this.service.ajax.request({proxy:"getPeerMacProxy",ajax:{async:!1},success:function(e){t.config.hostMac=e}}),this.config.hostMac||""},e.prototype.getRemote=function(){var t=this;return this.config.remote===undefined&&this.service.ajax.request({proxy:"getRemoteProxy",method:"getRemote",ajax:{async:!1},fail:function(e){t.config.remote=e}}),this.config.remote||""},e.prototype.getRebootTime=function(){var e=this.getFunctionSupport().rebootTime;return e!=undefined&&0<parseInt(e)?1e3*parseInt(e):this.config.rebootTime||3e4},e.prototype.getDomain=function(){var t=this;return this.config.domain!==undefined&&"/"!==this.config.domain||this.service.ajax.request({proxy:"rebootIPProxy",method:"read",ajax:{async:!1},success:function(e){t.config.domain=e[TPDOMAIN_DATA_ID].name||"/"}}),this.config.domain||"/"},e.prototype.getGdpr=function(){var t=this;return this.config.gdpr===undefined&&(!1===this.config.gdprSupport?this.config.gdpr=!1:this.service.ajax.request({proxy:"gdprProxy",method:"getEnable",preventFailEvent:!0,ajax:{async:!1},success:function(){t.config.gdpr=!0},fail:function(e){t.config.gdpr=!1}})),this.config.gdpr},e.prototype.getRole=function(){var t=this;return this.getConfig().cloud?this.service.ajax.request({proxy:"getRoleProxy",method:"read",ajax:{async:!1},success:function(e){t.config.role=e}}):this.config.role="-1",this.config.role},e.prototype.getFunctionSupport=function(){var t=this;return this.config.functionSupport===undefined&&this.service.ajax.request({proxy:"getFuncSupportProxy",method:"read",ajax:{async:!1},success:function(e){t.config.functionSupport=e},fail:function(){t.config.functionSupport=null}}),this.config.functionSupport},e.prototype.getRSAParams=function(){var t=this;return this.config.gdprSupport&&$.su.encryptor?t.config.RSAParams=$.su.encryptor.getRSAParams():this.service.ajax.request({proxy:"gdprProxy",method:"getParams",preventFailEvent:!0,preventErrorEvent:!0,ajax:{async:!1},success:function(e){t.config.RSAParams=e},fail:function(){t.config.RSAParams=null}}),t.config.RSAParams},e.prototype.isSuperAdmin=function(){return $.su.isSuperAdmin()},e)}(),function(n){var a;n.su.Module=(a=function(e){a.superclass.constructor.call(this,e)},n.su.inherit(n.su.Module,a),a.prototype.launch=function(){var i=n.su.moduleManager.query("index"),r=this.settings.commonSave;return n.su.moduleManager.getStatus("index")===n.su.Module.STATUS.AVAILABLE&&(i.hideSaveBtn(),!1===r&&i.alwaysShowSaveBtn(this.name),n.each(n.extend({},this.data.stores,this.data.models),function(e,t){t.dataObj&&t.dataObj.proxy&&(!1!==r&&i.registerAutoSaveData(t),i.registerSaveLoading(t))})),a.superclass.launch.call(this)},a.prototype.destroy=function(e){var i=n.su.moduleManager.query("index"),t=this.settings.commonSave;n.su.moduleManager.getStatus("index")===n.su.Module.STATUS.AVAILABLE&&(!1===t&&i.cancelAlwaysShowSaveBtn(this.name),n.each(n.extend({},this.data.stores,this.data.models),function(e,t){t.dataObj&&t.dataObj.proxy&&(i.unRegisterAutoSaveData(t),i.unRegisterSaveLoading(t))})),a.superclass.destroy.call(this)},a.prototype.registerAutoSaveData=function(e){if("available"!==n.su.moduleManager.getStatus("index"))return!1;var i=n.su.moduleManager.query("index");return n.isArray(e)||(e=[e]),n.each(e,function(e,t){(t instanceof n.su.ModelBind||t instanceof n.su.StoreBind)&&i.registerAutoSaveData(t)}),!0},a.prototype.unRegisterAutoSaveData=function(e){if("available"!==n.su.moduleManager.getStatus("index"))return!1;var i=n.su.moduleManager.query("index");return n.isArray(e)||(e=[e]),n.each(e,function(e,t){(t instanceof n.su.ModelBind||t instanceof n.su.StoreBind)&&i.unRegisterAutoSaveData(t)}),!0},a.STATUS=n.su.Module.STATUS,a)}(jQuery),function(){var e;$.su=$.su||{},$.su.Services=$.su.Services||{},$.su.Services.LanguageService=(e=function(){this.init(),this.name="language",$.su.Service.call(this)},$.su.inherit($.su.Service,e),e.prototype.init=function(){$.su.serviceManager.get("ajax").request({method:"read",proxy:"languageProxy"})},e.prototype.getLocale=function(){return $.su.language.getLocale()},e.prototype.switchTo=function(e,t,i){$.su.serviceManager.get("ajax").request({method:"setLocale",proxy:"languageProxy",data:{locale:e},success:function(e){setTimeout(function(){location.reload()},300),t&&t.call()},fail:i})},e)}(),function(t){var i,r,n;t.su=t.su||{},t.su.Services=t.su.Services||{},t.su.Services.Time=(i={format:"MM/dd/yyyy HH:mm:ss",defaultTime:"01/01/1990 00:00:00",proxy:"timeServiceProxy"},r=null,n=function(e){if("object"==typeof n.instance)return n.instance;clearInterval(r),this.settings=t.extend({},i,e),this.name="time",t.su.Service.call(this),(n.instance=this).init()},t.su.inherit(t.su.Service,n),n.prototype.init=function(){this.currentTime=null,this.hour24Enable=null,t.su.requireSync(this.settings.proxy),this.proxy=t.su.createSync(this.settings.proxy)},n.prototype.addListener=function(e,t,i,r){this.constructor.superclass.on.call(this,e,t,i,r),this.addListenerHandler(e)},n.prototype.removeListener=function(e,t,i,r){this.constructor.superclass.off.call(this,e,t,i,r),this.removeListenerHandler(e)},n.prototype.fireEvent=function(e){var t="";switch(e){case"on_time_change":t=this.currentTime;break;case"on_hour24_change":t=this.hour24Enable}this.constructor.superclass.trigger.call(this,e,t)},n.prototype.addListenerHandler=function(e){if(this.eventDealer.eventInfo[e]){var t=this;switch(e){case"on_time_change":this.sync(function(){t.updateTime()});break;case"on_hour24_change":this.sync()}}},n.prototype.removeListenerHandler=function(e){var t=this.eventDealer.eventInfo;if(t[e])switch(e){case"on_time_change":0===t[e].length&&this.stopUpdateTime()}},n.prototype.sync=function(t){var i=this;this.isBusy?t&&t(i.currentTime):(this.isBusy=!0,this.proxy.read({success:function(e){i.setHour24("on"===e.hour24Enable),i.setTime(i.convert(e.date+" "+e.time)),i.isBusy=!1,t&&t(i.currentTime)},fail:function(){i.setHour24(!0),i.setTime(new Date),i.isBusy=!1,t&&t(i.currentTime)},error:function(){i.setHour24(!0),i.setTime(new Date),i.isBusy=!1,t&&t(i.currentTime)}}))},n.prototype.getTime=function(){var t=this;return null===this.currentTime&&this.proxy.read({ajax:{async:!1},success:function(e){t.setTime(t.convert(e.date+" "+e.time))},fail:function(){t.setTime(new Date)},error:function(){t.setTime(new Date)}}),this.currentTime},n.prototype.setTime=function(e){"date"===t.type(e)&&(this.currentTime=e,this.fireEvent("on_time_change"))},n.prototype.getHour24=function(e){var t=this;return null===this.hour24Enable&&this.proxy.read({ajax:{async:!1},success:function(e){t.setHour24("on"===e.hour24Enable)},fail:function(e){t.setHour24(!0)},error:function(e){t.setHour24(!0)}}),this.hour24Enable},n.prototype.setHour24=function(e){this.hour24Enable=!!e,this.fireEvent("on_hour24_change")},n.prototype.updateTime=function(){var e=this;clearInterval(r),r=setInterval(function(){e.sync()},1e3)},n.prototype.stopUpdateTime=function(){clearInterval(r),r=null},n.prototype.convert=function(e,t){e=e||this.settings.defaultTime,t=t||this.settings.format;var i={"y+":"year","M+":"month","d+":"day","H+":"hour","m+":"minute","s+":"second"},r={};for(var n in i){var a=new RegExp(n).exec(t);r[i[n]]=e.slice(a.index,a.index+a[0].length)}return new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second)},n.prototype.format=function(e,t,i){i=i||this.hour24Enable;var r=t||this.settings.format,n=e.getHours(),a={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"H+":n,"m+":e.getMinutes(),"s+":e.getSeconds()};for(var s in i||(0===n?a["H+"]=12:12<n&&(a["H+"]-=12)),a){var o=a[s];if(new RegExp("("+s+")").test(r)){var _=RegExp.$1;r="H+"!==s||i?r.replace(_,("0"+o).slice(-1*(_+"").length)):r.replace(_,o)}}return i||(r+=12<=n?" PM":" AM"),r},n.prototype.on=n.prototype.addListener,n.prototype.off=n.prototype.removeListener,n)}(jQuery),jQuery,$.extend($.su.settings,{classManager:{loader:"Loader"},Proxy:{defaultRoot:"root"},Model:{defaultProxy:"MERProxy",depFields:["proxy"]},Store:{defaultProxy:"MERProxy",depFields:["proxy"]},AjaxService:{defaultProxy:"MERProxy"},AjaxProxy:{defaultConnection:"Connection"}});var SYN=0,ASYN=1,HTTP_INSTRUCT=0,HTTP_WRITE=1,HTTP_READ=2,HTTP_UPLOAD=3,HTTP_DOWNLOAD=4,HTTP_RESET=5,HTTP_REBOOT=6,HTTP_AUTH=7,HTTP_GETPEERMAC=8,HTTP_CONFIG=9,HTTP_CHGPWD=10,HTTP_LOGOUT=11,HTTP_WRITEOEM=12,HTTP_CHGMODE=13,HTTP_OP_CLOUD_RESET=14,HTTP_OP_CLOUD_LOGIN=15,HTTP_OP_GDPRCFG=16,CLOUD_TMP=17,CLOUD_AUTH=18,HTTP_OP_AUTHKEY=19,IPV6_INTERFACE_LINKING_UP=(LINK_DOWN=0,LINK_UP=1,LINKING_UP=2,LINKING_DOWN=3,4),IPV6_INTERFACE_LINK_UP=5,IPV6_INTERFACE_LINKING_DOWN=6,IPV6_INTERFACE_LINK_DOWN=7,IPV6_ADDRESS_LINKING_UP=8,IPV6_ADDRESS_LINK_UP=9,IPV6_ADDRESS_LINKING_DOWN=10,IPV6_ADDRESS_LINK_DOWN=11,IPV6_WAN_TYPE_ETHERNET=(IPV6_MODE_DISABLE=0,IPV6_MODE_ROUTER=1,IPV6_MODE_PASSTHROUGH=2,0),IPV6_WAN_TYPE_PPPOE=1,IPV6_WAN_TYPE_TUNNEL6TO4=2,IPV6_ADDR_TYPE_AUTO=0,IPV6_ADDR_TYPE_SLAAC=1,IPV6_ADDR_TYPE_DHCP=2,IPV6_ADDR_TYPE_STATIC=3,IPV6_ADDR_TYPE_TUNNEL=4,IPV6_DNS_TYPE_AUTO=0,IPV6_DNS_TYPE_SLAAC=1,IPV6_DNS_TYPE_DHCP=2,IPV6_DNS_TYPE_STATIC=3,LEVEL_ALL=0,DDNS_TYPE_PH=0,DDNS_LINK_STATUS_DISCONNECTED=0,DDNS_LINK_STATUS_CONNECTING=1,DDNS_LINK_STATUS_CONNECTED=2,DDNS_LINK_STATUS_AUTHFAIL=3,DDNS_LINK_STATUS_DOMAINERROR=4,DDNS_LINK_STATUS_GETTING_IP=5,DDNS_LINK_STATUS_REGISTERRING=6,DDNS_LINK_STATUS_DISCONNECTED_SUB_STATE=7,DDNS_LINK_STATUS_NOLAUNCHING=8,DDNS_LINK_STATUS_FAILED=9,DDNS_SERVICE_TYPE_STA=0,DDNS_SERVICE_TYPE_PRO=1,DDNS_SERVICE_TYPE_NONE=2,WDS_LINK_DISCONNECTED=0,WDS_LINK_INIT=1,WDS_LINK_SCAN=2,WDS_LINK_AUTH=3,WDS_LINK_ASSOC=4,WDS_LINK_CONNECTED=5,WDS_LINK_CONNECTING=6,HTTP_CLIENT_FULL=0,HTTP_CLIENT_LOCK=1,HTTP_CLIENT_TIMEOUT=2,HTTP_CLIENT_PSWERR=3,HTTP_CLIENT_NORMAL=4,HTTP_CLIENT_INVALID=5,HTTP_CLIENT_PSWIlegal=6,USER_GROUP_ADMIN=0,USER_GROUP_REMOTE=1;!function(){var r;$.su.define("MERProxy",{extend:"AjaxProxy",statics:{dataBlock:new DataBlock,findBlock:function(e,t){var i,r=$.su.ClassManager.getInstance().get("MERProxy").dataBlock,n=void 0===t||"0,0,0"==t.join(",");for(var a in e=parseInt(e),r)if("object"==typeof r[a]&&r[a].id==e&&(n||r[a].layers===undefined||r[a].layers.join(",")==t.join(","))){i=r[a];break}return i},findBlockAll:function(e){var t=[];e=parseInt(e);var i=$.su.ClassManager.getInstance().get("MERProxy").dataBlock;for(var r in i)"object"==typeof i[r]&&i[r].id==e&&t.push(i[r]);return t},findBlockList:function(e,t){var i=[],r=$.su.ClassManager.getInstance().get("MERProxy").dataBlock,n=function(e,t){var i=[];for(var r in e){if(0==e[r])break;i.push(e[r])}return t.join(",").startsWith(i.join(","))};for(var a in e=parseInt(e),r)"object"==typeof r[a]&&r[a].id==e&&n(t,r[a].layers)&&i.push(r[a]);return i},elmInArray:function(e,t){var i;for(var r in e)if(e[r]instanceof Array){if(void 0===(i=e[r][0])||"object"!=typeof i){if(r==t)return!0;continue}if(i.hasOwnProperty(t))return!0}return!1},setElmValue:function(e,t,i,r){var n,a;for(var s in i=decodeURI(i),e)if("object"==typeof(a=e[s])&&null!==a){if("[object Array]"==Object.prototype.toString.call(a)){if(void 0===(n=a[0])||"object"!=typeof n){if(s!=t)continue;if(null==r)return;return void(a[parseInt(r)]=i)}if(n.hasOwnProperty(t)){if(null==r)return;return"object"!=typeof a[parseInt(r)]&&(a[parseInt(r)]={}),void(a[parseInt(r)][t]=i)}}else if(a.hasOwnProperty(t))return void(a[t]=i)}else if(s==t)return void(e[s]=i)},parser:function(e){var t,i,r=0,n={name:"",value:"",index:""},a="",s=[],o=[],_="",d=0;if(""==e||null==e||e==undefined)return null;for(var u=0;u<e.length;u++)switch(_=e.charAt(u),r){case 0:if(n={name:"",value:"",index:""},d=0,"#"==_){r=1;continue}" "<_&&_<="~"&&(r=2,n.name+=_,d++);break;case 1:case 6:"\r"!=_&&"\n"!=_||(r=0);break;case 2:if(" "==_||"\t"==_){if("id"==n.name){r=3,d=0;continue}if(undefined==t){r=6;continue}d=0,r=5,$.su.ClassManager.getInstance().get("MERProxy").elmInArray(t,n.name)&&(r=4);continue}if("\r"==_||"\n"==_){r=6;continue}n.name+=_,d++;break;case 3:if(" "==_||"\t"==_){0!=d&&(r=0,-1!=a.indexOf("|")?(a=(s=a.split("|"))[0],o=s[1].split(","),t=$.su.ClassManager.getInstance().get("MERProxy").findBlock(a,o),(i=i||{})[a]=i[a]||{},i[a][s[1]]=t):(t=$.su.ClassManager.getInstance().get("MERProxy").findBlock(a),(i=i||{})[a]=t),a="");continue}if("\r"==_||"\n"==_){if(0==d){r=6;continue}r=0,-1!=a.indexOf("|")?(a=(s=a.split("|"))[0],o=s[1].split(","),t=$.su.ClassManager.getInstance().get("MERProxy").findBlock(a,o),(i=i||{})[a]=i[a]||{},i[a][s[1]]=t):(t=$.su.ClassManager.getInstance().get("MERProxy").findBlock(a),(i=i||{})[a]=t),a="";continue}if("|"!=_&&","!=_&&(_<"0"||"9"<_)){r=6;continue}a+=_,d++;break;case 4:if(" "==_||"\t"==_){0!=d&&(r=5,d=0);continue}if("\r"==_||"\n"==_){r=6;continue}if(_<"0"||"9"<_){r=6;continue}n.index+=_,d++;break;case 5:if((" "==_||"\t"==_)&&0==d)continue;if("\r"==_||"\n"==_){$.su.ClassManager.getInstance().get("MERProxy").setElmValue(t,n.name,n.value,n.index),r=0;continue}n.value+=_,d++}return 5==r&&0<d&&$.su.ClassManager.getInstance().get("MERProxy").setElmValue(t,n.name,n.value,n.index),i},toText:function(e){var t,i="",r=0;for(var n in e["layers"]==undefined&&(e["layers"]=[1,0,0]),e)if("layers"!=n)if("object"==typeof e[n])if("object"!=typeof(t=e[n])||"[object Array]"==Object.prototype.toString.call(t))if(void 0!==(t=e[n][0])&&"object"==typeof t)for(t=e[n],r=0;r<t.length;r++){var a=t[r];for(var s in a)i+=s+" "+r+" "+encodeURIComponent(a[s])+"\r\n"}else for(t=e[n],r=0;r<t.length;r++)i+=n+" "+r+" "+encodeURIComponent(t[r]||"")+"\r\n";else for(var s in t)i+=s+" "+encodeURIComponent(t[s])+"\r\n";else i+=n+" "+("id"==n?e[n]+"|"+e["layers"].join(","):encodeURIComponent(e[n]))+"\r\n";return i}},constructor:(r=function(e){r.$parent.call(this,e);var t={url:undefined,blocks:undefined,instrs:undefined,reAuth:undefined,preventSuccessEvent:!1,preventFailEvent:!1,preventErrorEvent:!1,urlAsyn:undefined,gdpr:undefined,resetGdprNextRequest:undefined};for(var i in t)t.hasOwnProperty(i)&&(e&&e.hasOwnProperty(i)&&(this[i]=e[i]),this.defaultOption[i]=this[i])},r),urlAsyn:1,blocks:undefined,ajax:{contentType:"text/plain;charset=UTF-8",dataType:"text",timeout:15e3},errorAndDataSplit:function(e){var t,i,r,n,a=0;try{if(t=e.search(/\r|\n/),i=e.substring(0,t),1==/\D/.test(i)||0==i.length)i=undefined,r=e;else{for(n=i.length-1;"0"==i.charAt(a)&&a<n;)a++;i=parseInt(i.substring(a),10),r=-1===e.search(/\r\n/)?e.substring(t+1):e.substring(t+2)}return{errorCode:i,data:r}}catch(s){return{errorCode:undefined,data:e}}},failFilter:function(e){return e},sync:function(e,t){var i=e.operation,r=e.dataObj;r instanceof $.su.Model||$.su.Store,"read"===i?this.instrs&&this.instrs.get?this.instrsExe.apply(this,arguments):this.blocks!==undefined?this.read.apply(this,arguments):this.url?this.urlRequest(e):$.su.debug.error("no instrs or blcoks or url in operation read"):"write"===i?this.instrs&&(this.instrs.add||this.instrs.edit||this.instrs.del||this.instrs.clear)?this.instrsExe.apply(this,arguments):this.blocks?this.write.apply(this,arguments):$.su.debug.error("no instrs or blcoks in operation write "):this[i]?this[i].apply(this,arguments):$.su.debug.error("no such operation: ",i)},urlRequest:function(e,t,i){var n=this;if(e.readFilter=e.readFilter||function(e){return e},!1!==i){var a=e.success;e.success=function(e,t,i,r){n.trigger("ev_load",[e]),a&&a(e,t,i,r)}}return this.op("urlRequest",e)},read:function(e,t,i){var n=this;r=e.blocks||this.blocks;for(var _,r=$.isArray(r)?r:[r],a=[],s=0;s<r.length;s++)if(-1<r[s].toString().indexOf("|"))a.push(r[s]);else for(var o=$.su.ClassManager.getInstance().get("MERProxy").findBlockAll(r[s]),d=0;d<o.length;d++)o[d].layers?a.push(r[s]+"|"+o[d].layers.join(",")):a.push(r[s].toString());_=a.slice(),a=a.join("#"),e.data=a||e.data,e.url=$.su.url("?code="+HTTP_READ+"&asyn="+this.urlAsyn,a);var u=e.readFilter||this.api["read"]&&this.api["read"].readFilter||this.readFilter||function(e){return e};if(e.readFilter=e.readFilter||function(e){e=$.extend(!0,{},$.su.ClassManager.getInstance().get("MERProxy").parser(e));var t,i,r={},n={};if(1==_.length)t=_[0].split("|")[0],i=_[0].split("|")[1],r=e[t]&&(e[t][i]||e[t]);else{for(var a=0;a<_.length;a++)t=_[a].split("|")[0],i=_[a].split("|")[1],n[t]=n[t]||[],n[t].push(i);for(t in n)if(n.hasOwnProperty(t)){var s=n[t];if(1==s.length)i=s[0],r[t]=e[t]&&(e[t][i]||e[t]);else for(var o=0;o<s.length;o++)r[t+"|"+(i=s[o])]=e[t]&&(e[t][i]||e[t])}}return u(r)},!1!==i){var l=e.success;e.success=function(e,t,i,r){n.trigger("ev_load",[e]),l&&l(e,t,i,r)}}return this.op("read",e)},request:function(e){var t=this,i=$.Deferred(),r=$.Deferred().resolve();if($.su.serviceManager.get("device").getConfig().gdpr&&!$.su.development){if(!1!==e.gdpr&&$.su.resetGdprNextRequest)if($.su.resetGdprDtd)r=$.su.resetGdprDtd;else{var n=$.su.moduleManager.query("main");$.su.resetGdprDtd=n.resetAndSyncEncryptor&&n.resetAndSyncEncryptor(),$.su.resetGdprDtd.then(function(){$.su.resetGdprNextRequest=!1,$.su.resetGdprDtd=null}),r=$.su.resetGdprDtd}e.resetGdprNextRequest&&($.su.resetGdprNextRequest=!0)}return r.then(function(){t._decorateOption(e).then(function(e){i.resolve(e)},function(e){i.reject(e)}),t.connection.request(e)}),i.promise()},op:function(e,t){var i=$.extend(!0,{},this.defaultOption,this.api[e],t);return i.opMethod=e||"default",this.request(i)},_decorateOption:function(l){var c=this,E=$.Deferred(),p=$.su.serviceManager.get("device").getConfig().gdpr&&$.su.encryptor&&!1!==l.gdpr&&!$.su.development;if(l.writeFilter&&(l.data=l.writeFilter.call(this,l.data)),p){var e=$.su.encryptor.dataEncrypt(l.data);l.data="sign="+e.sign+"\r\ndata="+e.data}var _=!!l&&l.success,T=!!l&&l.fail,A=!!l&&l.error;return l.success=function(e,t,i){try{p&&(e=$.su.encryptor.dataDecrypt(e)),e=c.errorAndDataSplit?c.errorAndDataSplit(e,t,i):{}}catch(o){$.su.debug.log("parse error in proxy's success");var r=$.su.moduleManager.query("main");return void(r.logout&&r.logout("reload"))}if(0===e.errorCode){var n=l.readFilter?l.readFilter.call(c,e.data):e.data;_&&_(n,e,t,i),E.resolve([n,e,t,i]);var a=!1;l.preventSuccessEvent||(l.operation?"read"!=l.operation&&(a=!0):"default"!=l.opMethod&&"read"!=l.opMethod&&"urlRequest"!=l.opMethod&&(a=!0)),a&&$.su.moduleManager.query("main")&&$.su.moduleManager.query("main").showNotice($.su.CHAR.COMMON.SAVED)}else{var s=l.failFilter?l.failFilter.call(c,e.data):e.data;T&&T(s,e.errorCode,t,i),E.reject([s,e.errorCode,t,i]),l.preventFailEvent||$.su.raise({msg:"ev_proxy_fail",type:"proxy_fail",errorCode:e.errorCode,proxy:c})}},l.error=function(e,t,i){var r,n=$.su.moduleManager.query("main");if(401==e.status){var a=e.responseText;try{p&&(a=$.su.encryptor.dataDecrypt(a)),a=c.errorAndDataSplit?c.errorAndDataSplit(a):{}}catch(u){a={}}var s,o=!1;n&&(o=n.isCloudLogin(),s=o?n.getCloudAuth():n.getPwd()),l.authCount=l.authCount||0;if(a.errorCode===EUNAUTH&&s&&n instanceof $.su.Module&&0==l.authCount&&!1!==l.reAuth)if(l.authCount++,o)n.getCloudTmpKey().then(function(){return n.cloudAuthWithId(s)}).then(function(){c.connection.request(l)},function(){E.reject([t,e]),n.logout&&n.logout("reload")});else{var _,d=a.data;d.lastIndexOf("\r\n")==d.length-2&&(d=d.substring(0,d.length-2)),_=d.split("\r\n"),n.updateAuthInfo(_),n.login(s,function(){c.connection.request(l)},function(){E.reject([t,e]),n.logout&&n.logout("reload")})}else a.errorCode===undefined?($.su.debug.log("parse error in proxy's error"),n.logout&&n.logout("reload")):(r=l.failFilter?l.failFilter.call(c,a.data):a.data,T&&T(r,a.errorCode),E.reject([r,a.errorCode]))}else if(408==e.status||403==e.status)E.reject([t,e]),n.logout&&n.logout("reload");else{E.reject([t,e]),A(t,e);l.preventErrorEvent||$.su.raise({msg:"ev_ajax_error",type:"ajax_error",errorCode:e.status,proxy:c})}},E},_objSubBlock:function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return!0},addDataId:function(e){$.isArray(e)||(e=[e]);var t,i=this.blocks;$.isArray(i)||(i=[i]);for(var r=0;r<e.length;r++)if(e[r].id)t=$.extend(!0,{},$.su.ClassManager.getInstance().get("MERProxy").findBlock(e[r].id,e[r].layers)),e[r]=$.extend(!0,t,e[r]);else{for(var n=0;n<i.length;n++){var a,s=i[n];if(-1!=i[n].toString().indexOf("|")&&(s=i[n].split("|")[0],a=i[n].split("|")[1].split(",")),t=$.extend(!0,{},$.su.ClassManager.getInstance().get("MERProxy").findBlock(s,a)),this._objSubBlock(e[r],t)){e[r]=$.extend(!0,t,e[r]);break}}e[r].id||$.su.debug.error("blockId notFound: ",e[r])}return 1<e.length?e:e[0]},_updateBackupData:function(e){if(!$.isArray(e))e=[e];for(var t=0;t<e.length;t++){var i=e[t],r=$.su.ClassManager.getInstance().get("MERProxy").findBlock(i.id,i.layers);r?$.extend(!0,r,i):$.su.debug.error("updateBackupData error")}},write:function(n,e,t){var a=this,s=n.updateBackup;if(n.difference=$.extend({update:{}},n.difference),n.data=n.data||this.addDataId(n.difference.update.model),n.addId&&(n.data=this.addDataId(n.data)),n.url=$.su.url("?code="+HTTP_WRITE+"&asyn="+(n.asyn||0)),!(n.writeFilter=function(e){if(!$.isArray(e))e=[e];for(var t="",i=0;i<e.length;i++)t+=$.su.ClassManager.getInstance().get("MERProxy").toText(e[i]);return t})!==t){var o=n.success;n.success=function(e,t,i,r){!1!==s&&a._updateBackupData(n.data),a.trigger("ev_sync_success",[e]),o&&o(e,t,i,r)}}return this.op("write",n)},instrsExe:function(e,t){var i=this;if("read"==e.operation)this.instrGet(e,t);else if("write"==e.operation){e.dataObj;var r=[],n=$.extend({},e,!0),a=n.success,s=n.fail,o=n.error;if(n.success=null,n.fail=null,n.error=null,n.deleteAll)return this.instrClear(e,t);if(!$.su.isEmptyObject(e.difference.remove)){var _=e.difference.remove,d=[];for(var u in _)_.hasOwnProperty(u)&&(d[_[u].index]=_[u]);for(var l=$.Deferred().resolve(),c=d.length-1;0<=c;c--)if(d[c]){var E=d[c];l=function(e){return l.then(function(){return i.instrSync({instrObj:i.instrs.del,model:e.oldModel,index:e.index,triggerEvent:!1},n,t)})}(E)}r.push(l)}if(!$.su.isEmptyObject(e.difference.insert)){if(e.dataObj instanceof $.su.Model){var p=e.difference.insert;p.index=p.model.index||0,e.difference.insert={insert:p}}var T=e.difference.insert;for(var u in T)T.hasOwnProperty(u)&&r.push(this.instrSync({instrObj:i.instrs.add,model:T[u].model,index:T[u].index,triggerEvent:!1},n,t))}if(!$.su.isEmptyObject(e.difference.update)){if(e.dataObj instanceof $.su.Model){var A=e.difference.update;A.index=A.model.index||0,e.difference.update={update:A}}var h=e.difference.update,D=e.instrs&&e.instrs.edit||this.instrs.edit||{},f=D.keyField,I=D.delAndAdd!==undefined&&D.delAndAdd;for(var u in h)if(h.hasOwnProperty(u)){var N=!1;!0===I||$.isFunction(I)&&I()?N=!0:f!==undefined&&h[u].oldModel&&h[u].model[f]!=h[u].oldModel[f]&&(N=!0),N?r.push(this.instrSync({instrObj:i.instrs.del,model:h[u].oldModel,index:h[u].index,triggerEvent:!1},n,t).then(function(){return i.instrSync({instrObj:i.instrs.add,model:h[u].model,index:h[u].index,triggerEvent:!1},n,t)})):r.push(this.instrSync({instrObj:i.instrs.edit,model:h[u].model,index:h[u].index,triggerEvent:!1},n,t))}}$.when.apply(this,r).then(function(e){i.trigger("ev_sync_success",[e&&e[0]]),a&&a.apply(null,e)},function(e){4==e.length?(i.trigger("ev_sync_success",[e[0]]),s&&s.apply(null,e)):o&&o.apply(null,e)})}},instrGet:function(e,t){var i=e.instrs&&e.instrs.get||this.instrs.get||{};return e.data=i.instr,this.instr(e,t)},instrSync:function(u,e,t){var i=u.instrObj||{},r=u.model||{},n=u.writeFilter||function(e,t){var i=e.fields,r=e.instr;if(i&&$.isArray(i))for(var n=0;n<i.length;n++){var a,s,o;if("string"==typeof i[n]?(a=i[n],s=i[n]):"object"==typeof i[n]&&(a=i[n].name||"",s=i[n].mapping||i[n].name,o=i[n].filter),"index"!=a||t[s])r+=""!=a?" "+a+":"+(o?o(t[s]):t[s]):" "+(o?o(t[s]):t[s]);else{var _=u.index||"0";r+=" "+a+":"+(o?o(_):_)}}else for(var d in t)t.hasOwnProperty(d)&&(r+=" "+d+":"+t[d]);return r};return e.data=n(i,r),this.instr(e,t,u.triggerEvent)},instrClear:function(e,t){var i=e.instrs&&e.instrs.clear||this.instrs.clear||{};return e.data=i.instr||i,this.instr(e,t)},instr:function(e,t,i){var n=this;e.url=$.su.url("?code="+HTTP_INSTRUCT+"&asyn=0",e.data);var a=e.success;return!1!==i&&("read"==e.operation?e.success=function(e,t,i,r){n.trigger("ev_load",[e]),a&&a(e,t,i,r)}:e.success=function(e,t,i,r){n.trigger("ev_sync_success",[e]),a&&a(e,t,i,r)}),this.op("instr",e)},upload:function(i){var r=this;this.op("default",{url:$.su.url("?code="+HTTP_AUTH+"&asyn=1","loginCheck"),preventFailEvent:!0,gdpr:!1,success:function(){var e=r.api["upload"]?r.api["upload"]:r.defaultOption,t=$.extend({},e,i);r.connection.upload(t)},fail:i.fail,error:i.error})}})}(jQuery);
